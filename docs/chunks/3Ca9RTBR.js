import"./30oZtftA.js";import"./nMcGvdtL.js";const go=Object.prototype.toString;function _o(e){switch(go.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return $e(e,Error)}}function Ft(e,t){return go.call(e)===`[object ${t}]`}function si(e){return Ft(e,"ErrorEvent")}function qi(e){return Ft(e,"DOMError")}function Nc(e){return Ft(e,"DOMException")}function Ne(e){return Ft(e,"String")}function oi(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function ai(e){return e===null||oi(e)||typeof e!="object"&&typeof e!="function"}function Mt(e){return Ft(e,"Object")}function qn(e){return typeof Event<"u"&&$e(e,Event)}function Dc(e){return typeof Element<"u"&&$e(e,Element)}function Lc(e){return Ft(e,"RegExp")}function Jn(e){return!!(e&&e.then&&typeof e.then=="function")}function Pc(e){return Mt(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function yo(e){return typeof e=="number"&&e!==e}function $e(e,t){try{return e instanceof t}catch{return!1}}function So(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function It(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Ji(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{So(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Fc(e,t,n=!1){return Ne(e)?Lc(t)?t.test(e):Ne(t)?n?e===t:e.includes(t):!1:!1}function Ht(e,t=[],n=!1){return t.some(r=>Fc(e,r,n))}function Hc(e,t,n=250,r,i,s,o){if(!s.exception||!s.exception.values||!o||!$e(o.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=Bc(xr(e,t,i,o.originalException,r,s.exception.values,a,0),n))}function xr(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let c=[...s];if($e(r[i],Error)){Zi(o,a);const u=e(t,r[i]),d=c.length;Ki(u,i,d,a),c=xr(e,t,n,r[i],i,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if($e(u,Error)){Zi(o,a);const l=e(t,u),f=c.length;Ki(l,`errors[${d}]`,f,a),c=xr(e,t,n,u,i,[l,...c],l,f)}}),c}function Zi(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,is_exception_group:!0,exception_id:t}}function Ki(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function Bc(e,t){return e.map(n=>(n.value&&(n.value=It(n.value,t)),n))}function gn(e){return e&&e.Math==Math?e:void 0}const N=typeof globalThis=="object"&&gn(globalThis)||typeof window=="object"&&gn(window)||typeof self=="object"&&gn(self)||typeof global=="object"&&gn(global)||function(){return this}()||{};function ci(){return N}function vo(e,t,n){const r=n||N,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}const Rt=ci(),Wc=80;function at(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Wc;for(;n&&s++<r&&(u=$c(n,d),!(u==="html"||s>1&&o+i.length*c+u.length>=l));)i.push(u),o+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function $c(e,t){const n=e,r=[];let i,s,o,a,c;if(!n||!n.tagName)return"";if(Rt.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(u&&u.length)u.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&Ne(i))for(s=i.split(/\s+/),c=0;c<s.length;c++)r.push(`.${s[c]}`);const d=["aria-label","type","name","title","alt"];for(c=0;c<d.length;c++)o=d[c],a=n.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function Uc(){try{return Rt.document.location.href}catch{return""}}function jc(e){return Rt.document&&Rt.document.querySelector?Rt.document.querySelector(e):null}function bo(e){if(!Rt.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Bt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,zc="Sentry Logger ",Mr=["debug","info","warn","error","log","assert","trace"],Nn={};function ct(e){if(!("console"in N))return e();const t=N.console,n={},r=Object.keys(Nn);r.forEach(i=>{const s=Nn[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function Gc(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Bt?Mr.forEach(n=>{t[n]=(...r)=>{e&&ct(()=>{N.console[n](`${zc}[${n}]:`,...r)})}}):Mr.forEach(n=>{t[n]=()=>{}}),t}const m=Gc(),Vc=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Yc(e){return e==="http"||e==="https"}function sn(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function Xc(e){const t=Vc.exec(e);if(!t){ct(()=>{});return}const[n,r,i="",s,o="",a]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return Eo({host:s,pass:i,path:c,projectId:u,port:o,protocol:n,publicKey:r})}function Eo(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function qc(e){if(!Bt)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(m.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?Yc(r)?t&&isNaN(parseInt(t,10))?(m.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(m.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(m.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Jc(e){const t=typeof e=="string"?Xc(e):Eo(e);if(!(!t||!qc(t)))return t}class Me extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function re(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&wo(i,r),e[t]=i}function Jt(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Bt&&m.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function wo(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Jt(e,"__sentry_original__",t)}catch{}}function ui(e){return e.__sentry_original__}function Zc(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function To(e){if(_o(e))return{message:e.message,name:e.name,stack:e.stack,...es(e)};if(qn(e)){const t={type:e.type,target:Qi(e.target),currentTarget:Qi(e.currentTarget),...es(e)};return typeof CustomEvent<"u"&&$e(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function Qi(e){try{return Dc(e)?at(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function es(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Kc(e,t=40){const n=Object.keys(To(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return It(n[0],t);for(let r=n.length;r>0;r--){const i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:It(i,t)}return""}function De(e){return Ar(e,new Map)}function Ar(e,t){if(Mt(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=Ar(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(Ar(i,t))}),r}return e}const ko=50,ts=/\(error: (.*)\)/,ns=/captureMessage|captureException/;function Io(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const i=[],s=n.split(`
`);for(let o=r;o<s.length;o++){const a=s[o];if(a.length>1024)continue;const c=ts.test(a)?a.replace(ts,"$1"):a;if(!c.match(/\S*Error: /)){for(const u of t){const d=u(c);if(d){i.push(d);break}}if(i.length>=ko)break}}return eu(i)}}function Qc(e){return Array.isArray(e)?Io(...e):e}function eu(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),ns.test(t[t.length-1].function||"")&&(t.pop(),ns.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,ko).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const mr="<anonymous>";function Ue(e){try{return!e||typeof e!="function"?mr:e.name||mr}catch{return mr}}const Cn={},rs={};function dt(e,t){Cn[e]=Cn[e]||[],Cn[e].push(t)}function ft(e,t){rs[e]||(t(),rs[e]=!0)}function Ee(e,t){const n=e&&Cn[e];if(n)for(const r of n)try{r(t)}catch(i){Bt&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ue(r)}
Error:`,i)}}function tu(e){const t="console";dt(t,e),ft(t,nu)}function nu(){"console"in N&&Mr.forEach(function(e){e in N.console&&re(N.console,e,function(t){return Nn[e]=t,function(...n){Ee("console",{args:n,level:e});const i=Nn[e];i&&i.apply(N.console,n)}})})}function ne(){const e=N,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Ro(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Xe(e){const{message:t,event_id:n}=e;if(t)return t;const r=Ro(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Or(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function Zt(e,t){const n=Ro(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function is(e){if(e&&e.__sentry_captured__)return!0;try{Jt(e,"__sentry_captured__",!0)}catch{}return!1}function Co(e){return Array.isArray(e)?e:[e]}const vt=N,ru=1e3;let ss,Nr,Dr;function xo(e){const t="dom";dt(t,e),ft(t,iu)}function iu(){if(!vt.document)return;const e=Ee.bind(null,"dom"),t=os(e,!0);vt.document.addEventListener("click",t,!1),vt.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=vt[n]&&vt[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(re(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){const l=os(e);d.handler=l,i.call(this,s,l,a)}d.refCount++}catch{}return i.call(this,s,o,a)}}),re(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{const c=this,u=c.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,a),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,o,a)}}))})}function su(e){if(e.type!==Nr)return!1;try{if(!e.target||e.target._sentryId!==Dr)return!1}catch{}return!0}function ou(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function os(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=au(n);if(ou(n.type,r))return;Jt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Jt(r,"_sentryId",ne());const i=n.type==="keypress"?"input":n.type;su(n)||(e({event:n,name:i,global:t}),Nr=n.type,Dr=r?r._sentryId:void 0),clearTimeout(ss),ss=vt.setTimeout(()=>{Dr=void 0,Nr=void 0},ru)}}function au(e){try{return e.target}catch{return null}}const Lr=ci();function Mo(){if(!("fetch"in Lr))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Pr(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function cu(){if(typeof EdgeRuntime=="string")return!0;if(!Mo())return!1;if(Pr(Lr.fetch))return!0;let e=!1;const t=Lr.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Pr(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Bt&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function li(e){const t="fetch";dt(t,e),ft(t,uu)}function uu(){cu()&&re(N,"fetch",function(e){return function(...t){const{method:n,url:r}=lu(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Ee("fetch",{...i}),e.apply(N,t).then(s=>{const o={...i,endTimestamp:Date.now(),response:s};return Ee("fetch",o),s},s=>{const o={...i,endTimestamp:Date.now(),error:s};throw Ee("fetch",o),s})}})}function Fr(e,t){return!!e&&typeof e=="object"&&!!e[t]}function as(e){return typeof e=="string"?e:e?Fr(e,"url")?e.url:e.toString?e.toString():"":""}function lu(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:as(n),method:Fr(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:as(t),method:Fr(t,"method")?String(t.method).toUpperCase():"GET"}}let _n=null;function Ao(e){const t="error";dt(t,e),ft(t,du)}function du(){_n=N.onerror,N.onerror=function(e,t,n,r,i){return Ee("error",{column:r,error:i,line:n,msg:e,url:t}),_n&&!_n.__SENTRY_LOADER__?_n.apply(this,arguments):!1},N.onerror.__SENTRY_INSTRUMENTED__=!0}let yn=null;function Oo(e){const t="unhandledrejection";dt(t,e),ft(t,fu)}function fu(){yn=N.onunhandledrejection,N.onunhandledrejection=function(e){return Ee("unhandledrejection",e),yn&&!yn.__SENTRY_LOADER__?yn.apply(this,arguments):!0},N.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Sn=ci();function hu(){const e=Sn.chrome,t=e&&e.app&&e.app.runtime,n="history"in Sn&&!!Sn.history.pushState&&!!Sn.history.replaceState;return!t&&n}const $t=N;let vn;function Zn(e){const t="history";dt(t,e),ft(t,pu)}function pu(){if(!hu())return;const e=$t.onpopstate;$t.onpopstate=function(...n){const r=$t.location.href,i=vn;if(vn=r,Ee("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=vn,o=String(i);vn=o,Ee("history",{from:s,to:o})}return n.apply(this,r)}}re($t.history,"pushState",t),re($t.history,"replaceState",t)}const mu=N,qe="__sentry_xhr_v3__";function di(e){const t="xhr";dt(t,e),ft(t,gu)}function gu(){if(!mu.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;re(e,"open",function(t){return function(...n){const r=Date.now(),i=Ne(n[0])?n[0].toUpperCase():void 0,s=_u(n[1]);if(!i||!s)return t.apply(this,n);this[qe]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const o=()=>{const a=this[qe];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const c={args:[i,s],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Ee("xhr",c)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?re(this,"onreadystatechange",function(a){return function(...c){return o(),a.apply(this,c)}}):this.addEventListener("readystatechange",o),re(this,"setRequestHeader",function(a){return function(...c){const[u,d]=c,l=this[qe];return l&&Ne(u)&&Ne(d)&&(l.request_headers[u.toLowerCase()]=d),a.apply(this,c)}}),t.apply(this,n)}}),re(e,"send",function(t){return function(...n){const r=this[qe];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Ee("xhr",i),t.apply(this,n)}})}function _u(e){if(Ne(e))return e;try{return e.toString()}catch{}}function yu(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Su(){return"npm"}function vu(){return!yu()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function cs(){return typeof window<"u"&&(!vu()||bu())}function bu(){return N.process!==void 0&&N.process.type==="renderer"}function Eu(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function Ce(e,t=100,n=1/0){try{return Hr("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function No(e,t=3,n=100*1024){const r=Ce(e,t);return Iu(r)>n?No(e,t-1,n):r}function Hr(e,t,n=1/0,r=1/0,i=Eu()){const[s,o]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!yo(t))return t;const a=wu(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const h=u.toJSON();return Hr("",h,c-1,r,i)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=To(t);for(const h in f){if(!Object.prototype.hasOwnProperty.call(f,h))continue;if(l>=r){d[h]="[MaxProperties ~]";break}const p=f[h];d[h]=Hr(h,p,c-1,r,i),l++}return o(t),d}function wu(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(So(t))return"[VueViewModel]";if(Pc(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Ue(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Tu(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Tu(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function ku(e){return~-encodeURI(e).split(/%..|./).length}function Iu(e){return ku(JSON.stringify(e))}var He;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(He||(He={}));function At(e){return new me(t=>{t(e)})}function fi(e){return new me((t,n)=>{n(e)})}class me{constructor(t){me.prototype.__init.call(this),me.prototype.__init2.call(this),me.prototype.__init3.call(this),me.prototype.__init4.call(this),this._state=He.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new me((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new me((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(He.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(He.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===He.PENDING){if(Jn(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===He.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===He.RESOLVED&&n[1](this._value),this._state===He.REJECTED&&n[2](this._value),n[0]=!0)})}}}function Ru(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]}function i(o){if(!n())return fi(new Me("Not adding Promise because buffer limit was reached."));const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new me((a,c)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(l=>{At(l).then(()=>{--u||(clearTimeout(d),a(!0))},c)})})}return{$:t,add:i,drain:s}}function gr(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const Cu=["fatal","error","warning","log","info","debug"];function xu(e){return e==="warn"?"warning":Cu.includes(e)?e:"log"}const Do=1e3;function on(){return Date.now()/Do}function Mu(){const{performance:e}=N;if(!e||!e.now)return on;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Do}const an=Mu(),we=(()=>{const{performance:e}=N;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=e.timing&&e.timing.navigationStart,c=typeof o=="number"?Math.abs(o+n-r):t,u=c<t;return s||u?i<=c?e.timeOrigin:o:r})(),Br="baggage",Lo="sentry-",Au=/^sentry-/,Ou=8192;function Nu(e){if(!Ne(e)&&!Array.isArray(e))return;let t={};if(Array.isArray(e))t=e.reduce((r,i)=>{const s=us(i);for(const o of Object.keys(s))r[o]=s[o];return r},{});else{if(!e)return;t=us(e)}const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(Au)){const o=i.slice(Lo.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function Wr(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${Lo}${r}`]=i),n),{});return Du(t)}function us(e){return e.split(",").map(t=>t.split("=").map(n=>decodeURIComponent(n.trim()))).reduce((t,[n,r])=>(t[n]=r,t),{})}function Du(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>Ou?(Bt&&m.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const Lu=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Pu(e){if(!e)return;const t=e.match(Lu);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function Fu(e,t){const n=Pu(e),r=Nu(t),{traceId:i,parentSpanId:s,parentSampled:o}=n||{},a={traceId:i||ne(),spanId:ne().substring(16),sampled:o};return s&&(a.parentSpanId=s),r&&(a.dsc=r),{traceparentData:n,dynamicSamplingContext:r,propagationContext:a}}function hi(e=ne(),t=ne().substring(16),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function ht(e,t=[]){return[e,t]}function Hu(e,t){const[n,r]=e;return[n,[...r,t]]}function ls(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function $r(e,t){return(t||new TextEncoder).encode(e)}function Bu(e,t){const[n,r]=e;let i=JSON.stringify(n);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[$r(i,t),o]:i.push(typeof o=="string"?$r(o,t):o)}for(const o of r){const[a,c]=o;if(s(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let u;try{u=JSON.stringify(c)}catch{u=JSON.stringify(Ce(c))}s(u)}}return typeof i=="string"?i:Wu(i)}function Wu(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function $u(e,t){const n=typeof e.data=="string"?$r(e.data,t):e.data;return[De({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const Uu={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",statsd:"unknown"};function ds(e){return Uu[e]}function pi(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Po(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:sn(r)},...i&&{trace:De({...i})}}}function ju(e,t,n){const r=[{type:"client_report"},{timestamp:n||on(),discarded_events:e}];return ht(t?{dsn:t}:{},[r])}const zu=60*1e3;function Gu(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?zu:r-t}function Vu(e,t){return e[t]||e.all||0}function Fo(e,t,n=Date.now()){return Vu(e,t)>n}function Ho(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],o=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[c,u]=a.split(":",2),d=parseInt(c,10),l=(isNaN(d)?60:d)*1e3;if(!u)i.all=r+l;else for(const f of u.split(";"))i[f]=r+l}else o?i.all=r+Gu(o,r):t===429&&(i.all=r+60*1e3);return i}function Yu(e,t){return e??t()}function _r(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const T=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Kn="production";function mi(){return vo("globalEventProcessors",()=>[])}function Xu(e){mi().push(e)}function Dn(e,t,n,r=0){return new me((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);T&&o.id&&a===null&&m.log(`Event processor "${o.id}" dropped event`),Jn(a)?a.then(c=>Dn(e,c,n,r+1).then(i)).then(null,s):Dn(e,a,n,r+1).then(i).then(null,s)}})}function Bo(e){const t=an(),n={sid:ne(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>qu(n)};return e&&ut(n,e),n}function ut(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||an(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:ne()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Wo(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),ut(e,n)}function qu(e){return De({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const Ju=0,$o=1;function gi(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,tags:a,origin:c}=Le(e);return De({data:r,op:i,parent_span_id:s,span_id:t,status:o,tags:a,trace_id:n,origin:c})}function Qn(e){const{traceId:t,spanId:n}=e.spanContext(),r=yi(e);return hi(t,n,r)}function _i(e){return typeof e=="number"?fs(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?fs(e.getTime()):an()}function fs(e){return e>9999999999?e/1e3:e}function Le(e){return Zu(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function Zu(e){return typeof e.getSpanJSON=="function"}function yi(e){const{traceFlags:t}=e.spanContext();return!!(t&$o)}function Uo(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||ne(),timestamp:t.timestamp||on()},u=n.integrations||e.integrations.map(y=>y.name);Ku(c,e),tl(c,u),t.type===void 0&&Qu(c,e.stackParser);const d=rl(r,n.captureContext);n.mechanism&&Zt(c,n.mechanism);const l=i&&i.getEventProcessors?i.getEventProcessors():[],f=gl().getScopeData();if(s){const y=s.getScopeData();gs(f,y)}if(d){const y=d.getScopeData();gs(f,y)}const h=[...n.attachments||[],...f.attachments];h.length&&(n.attachments=h),Vo(c,f);const p=[...l,...mi(),...f.eventProcessors];return Dn(p,c,n).then(y=>(y&&el(y),typeof o=="number"&&o>0?nl(y,o,a):y))}function Ku(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:Kn),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=It(e.message,s));const o=e.exception&&e.exception.values&&e.exception.values[0];o&&o.value&&(o.value=It(o.value,s));const a=e.request;a&&a.url&&(a.url=It(a.url,s))}const hs=new WeakMap;function Qu(e,t){const n=N._sentryDebugIds;if(!n)return;let r;const i=hs.get(t);i?r=i:(r=new Map,hs.set(t,r));const s=Object.keys(n).reduce((o,a)=>{let c;const u=r.get(a);u?c=u:(c=t(a),r.set(a,c));for(let d=c.length-1;d>=0;d--){const l=c[d];if(l.filename){o[l.filename]=n[a];break}}return o},{});try{e.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function el(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function tl(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function nl(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:Ce(i.data,t,n)}}))},...e.user&&{user:Ce(e.user,t,n)},...e.contexts&&{contexts:Ce(e.contexts,t,n)},...e.extra&&{extra:Ce(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=Ce(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>{const s=Le(i).data;return s&&(i.data=Ce(s,t,n)),i})),r}function rl(e,t){if(!t)return e;const n=e?e.clone():new Ae;return n.update(t),n}function il(e){if(e)return sl(e)?{captureContext:e}:al(e)?{captureContext:e}:e}function sl(e){return e instanceof Ae||typeof e=="function"}const ol=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function al(e){return Object.keys(e).some(t=>ol.includes(t))}function Si(e,t){return le().captureException(e,il(t))}function jo(e,t){return le().captureEvent(e,t)}function Ke(e,t){le().addBreadcrumb(e,t)}function cl(e,t){le().setContext(e,t)}function Xy(e){le().setUser(e)}function ul(...e){if(e.length===2){const[t,n]=e;if(!t)return le().withScope(n);const r=le();return r.withScope(()=>(r.getStackTop().scope=t,n(t)))}return le().withScope(e[0])}function G(){return le().getClient()}function Pe(){return le().getScope()}function ps(e){const t=G(),n=un(),r=Pe(),{release:i,environment:s=Kn}=t&&t.getOptions()||{},{userAgent:o}=N.navigator||{},a=Bo({release:i,environment:s,user:n.getUser(),...o&&{userAgent:o},...e}),c=n.getSession();return c&&c.status==="ok"&&ut(c,{status:"exited"}),zo(),n.setSession(a),r.setSession(a),a}function zo(){const e=un(),t=Pe(),n=e.getSession();n&&Wo(n),Go(),e.setSession(),t.setSession()}function Go(){const e=un(),t=Pe(),n=G(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function ms(e=!1){if(e){zo();return}Go()}function er(e,t,n){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},o=De({environment:r.environment||Kn,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",o),o}function Kt(e){const t=G();if(!t)return{};const n=er(Le(e).trace_id||"",t,Pe()),r=e.transaction;if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:o}=r.metadata;s!=null&&(n.sample_rate=`${s}`);const a=Le(r);return o&&o!=="url"&&(n.transaction=a.description),n.sampled=String(yi(r)),t.emit&&t.emit("createDsc",n),n}function Vo(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s,propagationContext:o}=t;ll(e,t),r&&hl(e,r),pl(e,n),dl(e,i),fl(e,s,o)}function gs(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:h,span:p}=t;Ut(e,"extra",n),Ut(e,"tags",r),Ut(e,"user",i),Ut(e,"contexts",s),Ut(e,"sdkProcessingMetadata",a),o&&(e.level=o),h&&(e.transactionName=h),p&&(e.span=p),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Ut(e,t,n){n&&Object.keys(n).length&&(e[t]={...e[t],...n})}function ll(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t;n&&Object.keys(n).length&&(e.extra={...n,...e.extra}),r&&Object.keys(r).length&&(e.tags={...r,...e.tags}),i&&Object.keys(i).length&&(e.user={...i,...e.user}),s&&Object.keys(s).length&&(e.contexts={...s,...e.contexts}),o&&(e.level=o),a&&(e.transaction=a)}function dl(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function fl(e,t,n){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t,propagationContext:n}}function hl(e,t){e.contexts={trace:gi(t),...e.contexts};const n=t.transaction;if(n){e.sdkProcessingMetadata={dynamicSamplingContext:Kt(t),...e.sdkProcessingMetadata};const r=Le(n).description;r&&(e.tags={transaction:r,...e.tags})}}function pl(e,t){e.fingerprint=e.fingerprint?Co(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const ml=100;let yr;class Ae{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=_s()}static clone(t){return t?t.clone():new Ae}clone(){const t=new Ae;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&ut(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;if(typeof t=="function"){const n=t(this);return n instanceof Ae?n:this}return t instanceof Ae?(this._tags={...this._tags,...t._tags},this._extra={...this._extra,...t._extra},this._contexts={...this._contexts,...t._contexts},t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession),t._propagationContext&&(this._propagationContext=t._propagationContext)):Mt(t)&&(t=t,this._tags={...this._tags,...t.tags},this._extra={...this._extra,...t.extra},this._contexts={...this._contexts,...t.contexts},t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession),t.propagationContext&&(this._propagationContext=t.propagationContext)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=_s(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:ml;if(r<=0)return this;const i={timestamp:on(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:i,_extra:s,_user:o,_level:a,_fingerprint:c,_eventProcessors:u,_propagationContext:d,_sdkProcessingMetadata:l,_transactionName:f,_span:h}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:i,extra:s,user:o,level:a,fingerprint:c||[],eventProcessors:u,propagationContext:d,sdkProcessingMetadata:l,transactionName:f,span:h}}applyToEvent(t,n={},r=[]){Vo(t,this.getScopeData());const i=[...r,...mi(),...this._eventProcessors];return Dn(i,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:ne();if(!this._client)return m.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:ne();if(!this._client)return m.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:ne();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(m.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function gl(){return yr||(yr=new Ae),yr}function _s(){return{traceId:ne(),spanId:ne().substring(16)}}const Qt="7.93.0",Yo=parseFloat(Qt),_l=100;class Xo{constructor(t,n,r,i=Yo){this._version=i;let s;n?s=n:(s=new Ae,s.setClient(t));let o;r?o=r:(o=new Ae,o.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=o}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(i){throw this.popScope(),i}return Jn(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:ne(),i=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:i,...n,event_id:r}),r}captureMessage(t,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:ne(),s=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i}),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:ne();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:o=_l}=i.getOptions&&i.getOptions()||{};if(o<=0)return;const c={timestamp:on(),...t},u=s?ct(()=>s(c,n)):c;u!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,o))}setUser(t){this.getScope().setUser(t)}setTags(t){this.getScope().setTags(t)}setExtras(t){this.getScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=ys(this);try{t(this)}finally{ys(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return T&&m.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return T&&!r&&(this.getClient()?m.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):m.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Wo(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=Kn}=r&&r.getOptions()||{},{userAgent:o}=N.navigator||{},a=Bo({release:i,environment:s,user:n.getUser(),...o&&{userAgent:o},...t}),c=n.getSession&&n.getSession();return c&&c.status==="ok"&&ut(c,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_withClient(t){const{scope:n,client:r}=this.getStackTop();r&&t(r,n)}_callExtensionMethod(t,...n){const i=cn().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);T&&m.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function cn(){return N.__SENTRY__=N.__SENTRY__||{extensions:{},hub:void 0},N}function ys(e){const t=cn(),n=Ur(t);return qo(t,e),n}function le(){const e=cn();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return yl(e)}function un(){return le().getIsolationScope()}function yl(e=cn()){return(!Sl(e)||Ur(e).isOlderThan(Yo))&&qo(e,new Xo),Ur(e)}function Sl(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Ur(e){return vo("hub",()=>new Xo,e)}function qo(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function ln(e){return(e||le()).getScope().getTransaction()}let Ss=!1;function vl(){Ss||(Ss=!0,Ao(jr),Oo(jr))}function jr(){const e=ln();if(e){const t="internal_error";T&&m.log(`[Tracing] Transaction: ${t} -> Global error occured`),e.setStatus(t)}}jr.tag="sentry_tracingErrorCallback";class Jo{constructor(t=1e3){this._maxlen=t,this.spans=[]}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}class vi{constructor(t={}){this._traceId=t.traceId||ne(),this._spanId=t.spanId||ne().substring(16),this.startTimestamp=t.startTimestamp||an(),this.tags=t.tags?{...t.tags}:{},this.data=t.data?{...t.data}:{},this._attributes=t.attributes?{...t.attributes}:{},this.instrumenter=t.instrumenter||"sentry",this.origin=t.origin||"manual",this._name=t.name||t.description,t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.op&&(this.op=t.op),t.status&&(this.status=t.status),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}get name(){return this._name||""}set name(t){this.updateName(t)}get description(){return this._name}set description(t){this._name=t}get traceId(){return this._traceId}set traceId(t){this._traceId=t}get spanId(){return this._spanId}set spanId(t){this._spanId=t}get sampled(){return this._sampled}set sampled(t){this._sampled=t}get attributes(){return this._attributes}set attributes(t){this._attributes=t}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?$o:Ju}}startChild(t){const n=new vi({...t,parentSpanId:this._spanId,sampled:this._sampled,traceId:this._traceId});if(n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,T&&n.transaction){const r=t&&t.op||"< unknown op >",i=Le(n).description||"< unknown name >",s=n.transaction.spanContext().spanId,o=`[Tracing] Starting '${r}' span on transaction '${i}' (${s}).`;m.log(o),this._logMessage=o}return n}setTag(t,n){return this.tags={...this.tags,[t]:n},this}setData(t,n){return this.data={...this.data,[t]:n},this}setAttribute(t,n){n===void 0?delete this._attributes[t]:this._attributes[t]=n}setAttributes(t){Object.keys(t).forEach(n=>this.setAttribute(n,t[n]))}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t)),this.setData("http.response.status_code",t);const n=bl(t);return n!=="unknown_error"&&this.setStatus(n),this}setName(t){this.updateName(t)}updateName(t){return this._name=t,this}isSuccess(){return this.status==="ok"}finish(t){return this.end(t)}end(t){if(T&&this.transaction&&this.transaction.spanContext().spanId!==this._spanId){const n=this._logMessage;n&&m.log(n.replace("Starting","Finishing"))}this.endTimestamp=_i(t)}toTraceparent(){return Qn(this)}toContext(){return De({data:this._getData(),description:this._name,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this._sampled,spanId:this._spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this._traceId})}updateWithContext(t){return this.data=t.data||{},this._name=t.name||t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this._sampled=t.sampled,this._spanId=t.spanId||this._spanId,this.startTimestamp=t.startTimestamp||this.startTimestamp,this.status=t.status,this.tags=t.tags||{},this._traceId=t.traceId||this._traceId,this}getTraceContext(){return gi(this)}getSpanJSON(){return De({data:this._getData(),description:this._name,op:this.op,parent_span_id:this.parentSpanId,span_id:this._spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this._traceId,origin:this.origin})}isRecording(){return!this.endTimestamp&&!!this._sampled}toJSON(){return this.getSpanJSON()}_getData(){const{data:t,_attributes:n}=this,r=Object.keys(t).length>0,i=Object.keys(n).length>0;if(!(!r&&!i))return r&&i?{...t,...n}:r?t:n}}function bl(e){if(e<400&&e>=100)return"ok";if(e>=400&&e<500)switch(e){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(e>=500&&e<600)switch(e){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}const Ct="sentry.source",bt="sentry.sample_rate";class Zo extends vi{constructor(t,n){super(t),this._measurements={},this._contexts={},this._hub=n||le(),this._name=t.name||"",this._metadata={...t.metadata},this._trimEnd=t.trimEnd,this.transaction=this;const r=this._metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(t){this.setName(t)}get metadata(){return{source:"custom",spanMetadata:{},...this._metadata,...this._attributes[Ct]&&{source:this._attributes[Ct]},...this._attributes[bt]&&{sampleRate:this._attributes[bt]}}}set metadata(t){this._metadata=t}setName(t,n="custom"){this._name=t,this.setAttribute(Ct,n)}updateName(t){return this._name=t,this}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new Jo(t)),this.spanRecorder.add(this)}setContext(t,n){n===null?delete this._contexts[t]:this._contexts[t]=n}setMeasurement(t,n,r=""){this._measurements[t]={value:n,unit:r}}setMetadata(t){this._metadata={...this._metadata,...t}}end(t){const n=_i(t),r=this._finishTransaction(n);if(r)return this._hub.captureEvent(r)}toContext(){const t=super.toContext();return De({...t,name:this._name,trimEnd:this._trimEnd})}updateWithContext(t){return super.updateWithContext(t),this._name=t.name||"",this._trimEnd=t.trimEnd,this}getDynamicSamplingContext(){return Kt(this)}setHub(t){this._hub=t}_finishTransaction(t){if(this.endTimestamp!==void 0)return;this._name||(T&&m.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>"),super.end(t);const n=this._hub.getClient();if(n&&n.emit&&n.emit("finishTransaction",this),this._sampled!==!0){T&&m.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),n&&n.recordDroppedEvent("sample_rate","transaction");return}const r=this.spanRecorder?this.spanRecorder.spans.filter(c=>c!==this&&c.endTimestamp):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((c,u)=>c.endTimestamp&&u.endTimestamp?c.endTimestamp>u.endTimestamp?c:u:c).endTimestamp);const{metadata:i}=this,{source:s}=i,o={contexts:{...this._contexts,trace:gi(this)},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this._name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:Kt(this)},...s&&{transaction_info:{source:s}}};return Object.keys(this._measurements).length>0&&(T&&m.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),T&&m.log(`[Tracing] Finishing ${this.op} transaction: ${this._name}.`),o}}const xn={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},El="finishReason",mt=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"];class wl extends Jo{constructor(t,n,r,i){super(i),this._pushActivity=t,this._popActivity=n,this.transactionSpanId=r}add(t){if(t.spanContext().spanId!==this.transactionSpanId){const n=t.end;t.end=(...r)=>(this._popActivity(t.spanContext().spanId),n.apply(t,r)),t.endTimestamp===void 0&&this._pushActivity(t.spanContext().spanId)}super.add(t)}}class Tl extends Zo{constructor(t,n,r=xn.idleTimeout,i=xn.finalTimeout,s=xn.heartbeatInterval,o=!1){super(t,n),this._idleHub=n,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,this.activities={},this._heartbeatCounter=0,this._finished=!1,this._idleTimeoutCanceledPermanently=!1,this._beforeFinishCallbacks=[],this._finishReason=mt[4],o&&(T&&m.log(`Setting idle transaction on scope. Span ID: ${this.spanContext().spanId}`),n.getScope().setSpan(this)),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=mt[3],this.end())},this._finalTimeout)}end(t){const n=_i(t);if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setAttribute(El,this._finishReason),this.spanRecorder){T&&m.log("[Tracing] finishing IdleTransaction",new Date(n*1e3).toISOString(),this.op);for(const r of this._beforeFinishCallbacks)r(this,n);this.spanRecorder.spans=this.spanRecorder.spans.filter(r=>{if(r.spanContext().spanId===this.spanContext().spanId)return!0;r.endTimestamp||(r.endTimestamp=n,r.setStatus("cancelled"),T&&m.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(r,void 0,2)));const i=r.startTimestamp<n,s=(this._finalTimeout+this._idleTimeout)/1e3,o=r.endTimestamp-this.startTimestamp<s;if(T){const a=JSON.stringify(r,void 0,2);i?o||m.log("[Tracing] discarding Span since it finished after Transaction final timeout",a):m.log("[Tracing] discarding Span since it happened after Transaction was finished",a)}return i&&o}),T&&m.log("[Tracing] flushing IdleTransaction")}else T&&m.log("[Tracing] No active IdleTransaction");if(this._onScope){const r=this._idleHub.getScope();r.getTransaction()===this&&r.setSpan(void 0)}return super.end(t)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(t){if(!this.spanRecorder){const n=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new wl(n,r,this.spanContext().spanId,t),T&&m.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(t,{restartOnChildSpanChange:n}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=n===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=mt[5],this.end(t)))}setFinishReason(t){this._finishReason=t}_restartIdleTimeout(t){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=mt[1],this.end(t))},this._idleTimeout)}_pushActivity(t){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),T&&m.log(`[Tracing] pushActivity: ${t}`),this.activities[t]=!0,T&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(t){if(this.activities[t]&&(T&&m.log(`[Tracing] popActivity ${t}`),delete this.activities[t],T&&m.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const n=an();this._idleTimeoutCanceledPermanently?(this._finishReason=mt[5],this.end(n)):this._restartIdleTimeout(n+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;const t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(T&&m.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=mt[0],this.end()):this._pingHeartbeat()}_pingHeartbeat(){T&&m.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function bi(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=G(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n)}function Ko(e,t,n){if(!bi(t))return e.sampled=!1,e;if(e.sampled!==void 0)return e.setAttribute(bt,Number(e.sampled)),e;let r;return typeof t.tracesSampler=="function"?(r=t.tracesSampler(n),e.setAttribute(bt,Number(r))):n.parentSampled!==void 0?r=n.parentSampled:typeof t.tracesSampleRate<"u"?(r=t.tracesSampleRate,e.setAttribute(bt,Number(r))):(r=1,e.setAttribute(bt,r)),kl(r)?r?(e.sampled=Math.random()<r,e.sampled?(T&&m.log(`[Tracing] starting ${e.op} transaction - ${Le(e).description}`),e):(T&&m.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(T&&m.log(`[Tracing] Discarding transaction because ${typeof t.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(T&&m.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function kl(e){return yo(e)||!(typeof e=="number"||typeof e=="boolean")?(T&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e<0||e>1?(T&&m.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function Il(){const t=this.getScope().getSpan();return t?{"sentry-trace":Qn(t)}:{}}function Rl(e,t){const n=this.getClient(),r=n&&n.getOptions()||{},i=r.instrumenter||"sentry",s=e.instrumenter||"sentry";i!==s&&(T&&m.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),e.sampled=!1);let o=new Zo(e,this);return o=Ko(o,r,{parentSampled:e.parentSampled,transactionContext:e,...t}),o.isRecording()&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),n&&n.emit&&n.emit("startTransaction",o),o}function vs(e,t,n,r,i,s,o){const a=e.getClient(),c=a&&a.getOptions()||{};let u=new Tl(t,e,n,r,o,i);return u=Ko(u,c,{parentSampled:t.parentSampled,transactionContext:t,...s}),u.isRecording()&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function Cl(){const e=cn();e.__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=Rl),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=Il),vl())}function Qo(){return Pe().getSpan()}function xl(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function Ml(e,t,n,r){const i=pi(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:sn(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ht(s,[o])}function Al(e,t,n,r){const i=pi(n),s=e.type&&e.type!=="replay_event"?e.type:"event";xl(e,n&&n.sdk);const o=Po(e,i,r,t);return delete e.sdkProcessingMetadata,ht(o,[[{type:s},e]])}const Ol="7";function Nl(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Dl(e){return`${Nl(e)}${e.projectId}/envelope/`}function Ll(e,t){return Zc({sentry_key:e.publicKey,sentry_version:Ol,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Pl(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Dl(e)}?${Ll(e,r)}`}const bs=[];function Fl(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function Hl(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Co(n(t)):r=t;const i=Fl(r),s=Wl(i,o=>o.name==="Debug");if(s!==-1){const[o]=i.splice(s,1);i.push(o)}return i}function Bl(e,t){const n={};return t.forEach(r=>{r&&ea(e,r,n)}),n}function ea(e,t,n){if(n[t.name]){T&&m.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,bs.indexOf(t.name)===-1&&(t.setupOnce(Xu,le),bs.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}T&&m.log(`Integration installed: ${t.name}`)}function Wl(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function Qe(e,t){return Object.assign(function(...r){return{setupOnce:()=>{},...t(...r)}},{id:e})}function $l(e){let t="";for(const n of e){const r=Object.entries(n.tags),i=r.length>0?`|#${r.map(([s,o])=>`${s}:${o}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${i}|T${n.timestamp}
`}return t}function Ul(e,t,n,r){const i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=sn(t));const s=jl(e);return ht(i,[s])}function jl(e){const t=$l(e);return[{type:"statsd",length:t.length},t]}const Es="Not capturing exception because it's already been captured.";class zl{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Jc(t.dsn):T&&m.warn("No DSN provided, client will not send events."),this._dsn){const n=Pl(this._dsn,t);this._transport=t.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(is(t)){T&&m.log(Es);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{i=s})),i}captureMessage(t,n,r,i){let s=r&&r.event_id;const o=oi(t)?t:String(t),a=ai(t)?this.eventFromMessage(o,n,r):this.eventFromException(t,r);return this._process(a.then(c=>this._captureEvent(c,r,i)).then(c=>{s=c})),s}captureEvent(t,n,r){if(n&&n.originalException&&is(n.originalException)){T&&m.log(Es);return}let i=n&&n.event_id;return this._process(this._captureEvent(t,n,r).then(s=>{i=s})),i}captureSession(t){typeof t.release!="string"?T&&m.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),ut(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):At(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&(this._integrations=Bl(this,this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return T&&m.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){ea(this,t,this._integrations)}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Al(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=Hu(r,$u(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=Ml(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;T&&m.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}captureAggregateMetrics(t){T&&m.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Ul(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const c of s){const u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(ut(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new me(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=un()){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&o.length>0&&(n.integrations=o),this.emit("preprocessEvent",t,n),Uo(s,t,n,r,this,i).then(a=>{if(a===null)return a;const{propagationContext:c}=a.sdkProcessingMetadata||{};if(!(a.contexts&&a.contexts.trace)&&c){const{traceId:d,spanId:l,parentSpanId:f,dsc:h}=c;a.contexts={trace:{trace_id:d,span_id:l,parent_span_id:f},...a.contexts};const p=h||er(d,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:p,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(T){const s=i;s.logLevel==="log"?m.log(s.message):m.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,o=na(t),a=ta(t),c=t.type||"error",u=`before send for type \`${c}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),fi(new Me(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=c==="replay_event"?"replay":c;return this._prepareEvent(t,n,r).then(l=>{if(l===null)throw this.recordDroppedEvent("event_processor",d,t),new Me("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return l;const h=Vl(i,l,n);return Gl(h,u)}).then(l=>{if(l===null)throw this.recordDroppedEvent("before_send",d,t),new Me(`${u} returned \`null\`, will not send event.`,"log");const f=r&&r.getSession();!o&&f&&this._updateSessionFromEvent(f,l);const h=l.transaction_info;if(o&&h&&l.transaction!==t.transaction){const p="custom";l.transaction_info={...h,source:p}}return this.sendEvent(l,n),l}).then(null,l=>{throw l instanceof Me?l:(this.captureException(l,{data:{__sentry__:!0},originalException:l}),new Me(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${l}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{T&&m.error("Error while sending event:",n)});T&&m.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}}function Gl(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Jn(e))return e.then(r=>{if(!Mt(r)&&r!==null)throw new Me(n);return r},r=>{throw new Me(`${t} rejected with ${r}`)});if(!Mt(e)&&e!==null)throw new Me(n);return e}function Vl(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return ta(t)&&r?r(t,n):na(t)&&i?i(t,n):t}function ta(e){return e.type===void 0}function na(e){return e.type==="transaction"}function Yl(e){const t=G();!t||!t.addEventProcessor||t.addEventProcessor(e)}function Xl(e,t){t.debug===!0&&(T?m.enable():ct(()=>{}));const n=le();n.getScope().update(t.initialScope);const i=new e(t);n.bindClient(i)}const ql=30;function ra(e,t,n=Ru(e.bufferSize||ql)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(ls(o,(l,f)=>{const h=ds(f);if(Fo(r,h)){const p=ws(l,f);e.recordDroppedEvent("ratelimit_backoff",h,p)}else a.push(l)}),a.length===0)return At();const c=ht(o[0],a),u=l=>{ls(c,(f,h)=>{const p=ws(f,h);e.recordDroppedEvent(l,ds(h),p)})},d=()=>t({body:Bu(c,e.textEncoder)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&T&&m.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=Ho(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof Me)return T&&m.error("Skipped sending event because buffer is full."),u("queue_overflow"),At();throw l})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function ws(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}let Ts;const ia="FunctionToString",Jl=()=>({name:ia,setupOnce(){Ts=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=ui(this)||this;return Ts.apply(t,e)}}catch{}}}),Zl=Qe(ia,Jl),Kl=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Ql=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],sa="InboundFilters",ed=e=>({name:sa,processEvent(t,n,r){const i=r.getOptions(),s=nd(e,i);return rd(t,s)?null:t}}),td=Qe(sa,ed);function nd(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:Kl],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:Ql],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function rd(e,t){return t.ignoreInternal&&ud(e)?(T&&m.warn(`Event dropped due to being internal Sentry Error.
Event: ${Xe(e)}`),!0):id(e,t.ignoreErrors)?(T&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Xe(e)}`),!0):sd(e,t.ignoreTransactions)?(T&&m.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Xe(e)}`),!0):od(e,t.denyUrls)?(T&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Xe(e)}.
Url: ${Ln(e)}`),!0):ad(e,t.allowUrls)?!1:(T&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Xe(e)}.
Url: ${Ln(e)}`),!0)}function id(e,t){return e.type||!t||!t.length?!1:cd(e).some(n=>Ht(n,t))}function sd(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Ht(n,t):!1}function od(e,t){if(!t||!t.length)return!1;const n=Ln(e);return n?Ht(n,t):!1}function ad(e,t){if(!t||!t.length)return!0;const n=Ln(e);return n?Ht(n,t):!0}function cd(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),T&&t.length===0&&m.error(`Could not extract message for event ${Xe(e)}`),t}function ud(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function ld(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Ln(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?ld(t):null}catch{return T&&m.error(`Cannot extract url for event ${Xe(e)}`),null}}function dd(e,t){const n=t&&pd(t)?t.getClient():t,r=n&&n.getDsn(),i=n&&n.getOptions().tunnel;return hd(e,r)||fd(e,i)}function fd(e,t){return t?ks(e)===ks(t):!1}function hd(e,t){return t?e.includes(t.host):!1}function ks(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function pd(e){return e.getClient!==void 0}const B=N;let zr=0;function oa(){return zr>0}function md(){zr++,setTimeout(()=>{zr--})}function Ot(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(ui(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(o=>Ot(o,t));return e.apply(this,s)}catch(s){throw md(),ul(o=>{o.addEventProcessor(a=>(t.mechanism&&(Or(a,void 0,void 0),Zt(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Si(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}wo(r,e),Jt(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const We=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function aa(e,t){const n=Ei(e,t),r={type:t&&t.name,value:Sd(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function gd(e,t,n,r){const i=G(),s=i&&i.getOptions().normalizeDepth,o={exception:{values:[{type:qn(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Ed(t,{isUnhandledRejection:r})}]},extra:{__serialized__:No(t,s)}};if(n){const a=Ei(e,n);a.length&&(o.exception.values[0].stacktrace={frames:a})}return o}function Sr(e,t){return{exception:{values:[aa(e,t)]}}}function Ei(e,t){const n=t.stacktrace||t.stack||"",r=yd(t);try{return e(n,r)}catch{}return[]}const _d=/Minified React error #\d+;/i;function yd(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(_d.test(e.message))return 1}return 0}function Sd(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function vd(e,t,n,r){const i=n&&n.syntheticException||void 0,s=wi(e,t,i,r);return Zt(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),At(s)}function bd(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,o=Gr(e,t,s,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),At(o)}function wi(e,t,n,r,i){let s;if(si(t)&&t.error)return Sr(e,t.error);if(qi(t)||Nc(t)){const o=t;if("stack"in t)s=Sr(e,t);else{const a=o.name||(qi(o)?"DOMError":"DOMException"),c=o.message?`${a}: ${o.message}`:a;s=Gr(e,c,n,r),Or(s,c)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return _o(t)?Sr(e,t):Mt(t)||qn(t)?(s=gd(e,t,n,i),Zt(s,{synthetic:!0}),s):(s=Gr(e,t,n,r),Or(s,`${t}`,void 0),Zt(s,{synthetic:!0}),s)}function Gr(e,t,n,r){const i={};if(r&&n){const s=Ei(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(oi(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function Ed(e,{isUnhandledRejection:t}){const n=Kc(e),r=t?"promise rejection":"exception";return si(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:qn(e)?`Event \`${wd(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function wd(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function Td(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:sn(r)}},s=kd(e);return ht(i,[s])}function kd(e){return[{type:"user_report"},e]}class Id extends zl{constructor(t){const n=B.SENTRY_SDK_SOURCE||Su();t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:`${n}:@sentry/browser`,version:Qt}],version:Qt},super(t),t.sendClientReports&&B.document&&B.document.addEventListener("visibilitychange",()=>{B.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return vd(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return bd(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){We&&m.warn("SDK not enabled, will not capture user feedback.");return}const n=Td(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){We&&m.log("No outcomes to send");return}if(!this._dsn){We&&m.log("No dsn provided, will not send outcomes");return}We&&m.log("Sending outcomes:",t);const n=ju(t,this._options.tunnel&&sn(this._dsn));this._sendEnvelope(n)}}let zt;function Rd(){if(zt)return zt;if(Pr(B.fetch))return zt=B.fetch.bind(B);const e=B.document;let t=B.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){We&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return zt=t.bind(B)}function Cd(){zt=void 0}function xd(e,t=Rd()){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(c=>(n-=o,r--,{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}))}catch(c){return Cd(),n-=o,r--,fi(c)}}return ra(e,i)}const Md=4;function Ad(e){function t(n){return new me((r,i)=>{const s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===Md&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const o in e.headers)Object.prototype.hasOwnProperty.call(e.headers,o)&&s.setRequestHeader(o,e.headers[o]);s.send(n.body)})}return ra(e,t)}const tr="?",Od=30,Nd=40,Dd=50;function Ti(e,t,n,r){const i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const Ld=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Pd=/\((\S*)(?::(\d+))(?::(\d+))\)/,Fd=e=>{const t=Ld.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const s=Pd.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[r,i]=ca(t[1]||tr,t[2]);return Ti(i,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}},Hd=[Od,Fd],Bd=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Wd=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,$d=e=>{const t=Bd.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=Wd.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||tr;return[i,r]=ca(i,r),Ti(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},Ud=[Dd,$d],jd=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,zd=e=>{const t=jd.exec(e);return t?Ti(t[2],t[1]||tr,+t[3],t[4]?+t[4]:void 0):void 0},Gd=[Nd,zd],Vd=[Hd,Ud,Gd],Yd=Io(...Vd),ca=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:tr,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},ua="GlobalHandlers",Xd=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:ua,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(Jd(n),Is("onerror")),t.onunhandledrejection&&(Zd(n),Is("onunhandledrejection"))}}},qd=Qe(ua,Xd);function Jd(e){Ao(t=>{const{stackParser:n,attachStacktrace:r}=da();if(G()!==e||oa())return;const{msg:i,url:s,line:o,column:a,error:c}=t,u=c===void 0&&Ne(i)?ef(i,s,o,a):la(wi(n,c||i,void 0,r,!1),s,o,a);u.level="error",jo(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}})})}function Zd(e){Oo(t=>{const{stackParser:n,attachStacktrace:r}=da();if(G()!==e||oa())return;const i=Kd(t),s=ai(i)?Qd(i):wi(n,i,void 0,r,!0);s.level="error",jo(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function Kd(e){if(ai(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function Qd(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function ef(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=si(e)?e.message:e,o="Error";const a=s.match(i);return a&&(o=a[1],s=a[2]),la({exception:{values:[{type:o,value:s}]}},t,n,r)}function la(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},c=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,l=Ne(t)&&t.length>0?t:Uc();return c.length===0&&c.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function Is(e){We&&m.log(`Global Handler attached: ${e}`)}function da(){const e=G();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const tf=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],fa="TryCatch",nf=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:fa,setupOnce(){t.setTimeout&&re(B,"setTimeout",Rs),t.setInterval&&re(B,"setInterval",Rs),t.requestAnimationFrame&&re(B,"requestAnimationFrame",sf),t.XMLHttpRequest&&"XMLHttpRequest"in B&&re(XMLHttpRequest.prototype,"send",of);const n=t.eventTarget;n&&(Array.isArray(n)?n:tf).forEach(af)}}},rf=Qe(fa,nf);function Rs(e){return function(...t){const n=t[0];return t[0]=Ot(n,{mechanism:{data:{function:Ue(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function sf(e){return function(t){return e.apply(this,[Ot(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ue(e)},handled:!1,type:"instrument"}})])}}function of(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&re(n,i,function(s){const o={mechanism:{data:{function:i,handler:Ue(s)},handled:!1,type:"instrument"}},a=ui(s);return a&&(o.mechanism.data.handler=Ue(a)),Ot(s,o)})}),e.apply(this,t)}}function af(e){const t=B,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(re(n,"addEventListener",function(r){return function(i,s,o){try{typeof s.handleEvent=="function"&&(s.handleEvent=Ot(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ue(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Ot(s,{mechanism:{data:{function:"addEventListener",handler:Ue(s),target:e},handled:!1,type:"instrument"}}),o])}}),re(n,"removeEventListener",function(r){return function(i,s,o){const a=s;try{const c=a&&a.__sentry_wrapped__;c&&r.call(this,i,c,o)}catch{}return r.call(this,i,a,o)}}))}const bn=1024,ha="Breadcrumbs",cf=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:ha,setup(n){t.console&&tu(ff(n)),t.dom&&xo(df(n,t.dom)),t.xhr&&di(hf(n)),t.fetch&&li(pf(n)),t.history&&Zn(mf(n)),t.sentry&&n.on&&n.on("beforeSendEvent",lf(n))}}},uf=Qe(ha,cf);function lf(e){return function(n){G()===e&&Ke({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Xe(n)},{event:n})}}function df(e,t){return function(r){if(G()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>bn&&(We&&m.warn(`\`dom.maxStringLength\` cannot exceed ${bn}, but a value of ${a} was configured. Sentry will use ${bn} instead.`),a=bn),typeof o=="string"&&(o=[o]);try{const u=r.event,d=gf(u)?u.target:u;i=at(d,{keyAttrs:o,maxStringLength:a}),s=bo(d)}catch{i="<unknown>"}if(i.length===0)return;const c={category:`ui.${r.name}`,message:i};s&&(c.data={"ui.component_name":s}),Ke(c,{event:r.event,name:r.name,global:r.global})}}function ff(e){return function(n){if(G()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:xu(n.level),message:Ji(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Ji(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Ke(r,{input:n.args,level:n.level})}}function hf(e){return function(n){if(G()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[qe];if(!r||!i||!s)return;const{method:o,url:a,status_code:c,body:u}=s,d={method:o,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i};Ke({category:"xhr",data:d,type:"http"},l)}}function pf(e){return function(n){if(G()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};Ke({category:"fetch",data:s,level:"error",type:"http"},o)}else{const s=n.response,o={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i};Ke({category:"fetch",data:o,type:"http"},a)}}}function mf(e){return function(n){if(G()!==e)return;let r=n.from,i=n.to;const s=gr(B.location.href);let o=r?gr(r):void 0;const a=gr(i);(!o||!o.path)&&(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Ke({category:"navigation",data:{from:r,to:i}})}}function gf(e){return!!e&&!!e.target}const _f="cause",yf=5,pa="LinkedErrors",Sf=(e={})=>{const t=e.limit||yf,n=e.key||_f;return{name:pa,preprocessEvent(r,i,s){const o=s.getOptions();Hc(aa,o.stackParser,o.maxValueLength,n,t,r,i)}}},vf=Qe(pa,Sf),ma="HttpContext",bf=()=>({name:ma,preprocessEvent(e){if(!B.navigator&&!B.location&&!B.document)return;const t=e.request&&e.request.url||B.location&&B.location.href,{referrer:n}=B.document||{},{userAgent:r}=B.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}}),Ef=Qe(ma,bf),ga="Dedupe",wf=()=>{let e;return{name:ga,processEvent(t){if(t.type)return t;try{if(kf(t,e))return We&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},Tf=Qe(ga,wf);function kf(e,t){return t?!!(If(e,t)||Rf(e,t)):!1}function If(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!ya(e,t)||!_a(e,t))}function Rf(e,t){const n=Cs(t),r=Cs(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!ya(e,t)||!_a(e,t))}function _a(e,t){let n=xs(e),r=xs(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function ya(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Cs(e){return e.exception&&e.exception.values&&e.exception.values[0]}function xs(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const Cf=[new td,new Zl,new rf,new uf,new qd,new vf,new Tf,new Ef];function xf(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=Cf),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),B.SENTRY_RELEASE&&B.SENTRY_RELEASE.id&&(e.release=B.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:Qc(e.stackParser||Yd),integrations:Hl(e),transport:e.transport||(Mo()?xd:Ad)};Xl(Id,t),e.autoSessionTracking&&Mf()}function Mf(){if(typeof B.document>"u"){We&&m.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}ps({ignoreDuration:!0}),ms(),Zn(({from:e,to:t})=>{e!==void 0&&e!==t&&(ps({ignoreDuration:!0}),ms())})}const Y=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,W=N;function Af(){W&&W.document?W.document.addEventListener("visibilitychange",()=>{const e=ln();if(W.document.hidden&&e){const t="cancelled";Y&&m.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${e.op}`),e.status||e.setStatus(t),e.setTag("visibilitychange","document.hidden"),e.end()}}):Y&&m.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const ki=(e,t,n)=>{let r,i;return s=>{t.value>=0&&(s||n)&&(i=t.value-(r||0),(i||r===void 0)&&(r=t.value,t.delta=i,e(t)))}},Of=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Nf=()=>{const e=W.performance.timing,t=W.performance.navigation.type,n={entryType:"navigation",startTime:0,type:t==2?"back_forward":t===1?"reload":"navigate"};for(const r in e)r!=="navigationStart"&&r!=="toJSON"&&(n[r]=Math.max(e[r]-e.navigationStart,0));return n},Sa=()=>W.__WEB_VITALS_POLYFILL__?W.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Nf()):W.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],va=()=>{const e=Sa();return e&&e.activationStart||0},Ii=(e,t)=>{const n=Sa();let r="navigate";return n&&(W.document.prerendering||va()>0?r="prerender":r=n.type.replace(/_/g,"-")),{name:e,value:typeof t>"u"?-1:t,rating:"good",delta:0,entries:[],id:Of(),navigationType:r}},nr=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{t(i.getEntries())});return r.observe(Object.assign({type:e,buffered:!0},n||{})),r}}catch{}},rr=(e,t)=>{const n=r=>{(r.type==="pagehide"||W.document.visibilityState==="hidden")&&(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Df=e=>{const t=Ii("CLS",0);let n,r=0,i=[];const s=a=>{a.forEach(c=>{if(!c.hadRecentInput){const u=i[0],d=i[i.length-1];r&&i.length!==0&&c.startTime-d.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,i.push(c)):(r=c.value,i=[c]),r>t.value&&(t.value=r,t.entries=i,n&&n())}})},o=nr("layout-shift",s);if(o){n=ki(e,t);const a=()=>{s(o.takeRecords()),n(!0)};return rr(a),a}};let Mn=-1;const Lf=()=>W.document.visibilityState==="hidden"&&!W.document.prerendering?0:1/0,Pf=()=>{rr(({timeStamp:e})=>{Mn=e},!0)},Ri=()=>(Mn<0&&(Mn=Lf(),Pf()),{get firstHiddenTime(){return Mn}}),Ff=e=>{const t=Ri(),n=Ii("FID");let r;const i=a=>{a.startTime<t.firstHiddenTime&&(n.value=a.processingStart-a.startTime,n.entries.push(a),r(!0))},s=a=>{a.forEach(i)},o=nr("first-input",s);r=ki(e,n),o&&rr(()=>{s(o.takeRecords()),o.disconnect()},!0)},Ms={},Hf=e=>{const t=Ri(),n=Ii("LCP");let r;const i=o=>{const a=o[o.length-1];if(a){const c=Math.max(a.startTime-va(),0);c<t.firstHiddenTime&&(n.value=c,n.entries=[a],r())}},s=nr("largest-contentful-paint",i);if(s){r=ki(e,n);const o=()=>{Ms[n.id]||(i(s.takeRecords()),s.disconnect(),Ms[n.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),rr(o,!0),o}},Gt={},Pn={};let ba,Ea,wa;function Bf(e){return Ci("cls",e,$f,ba)}function Ta(e){return Ci("lcp",e,jf,wa)}function Wf(e){return Ci("fid",e,Uf,Ea)}function ir(e,t){return ka(e,t),Pn[e]||(zf(e),Pn[e]=!0),Ia(e,t)}function sr(e,t){const n=Gt[e];if(!(!n||!n.length))for(const r of n)try{r(t)}catch(i){Y&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ue(r)}
Error:`,i)}}function $f(){Df(e=>{sr("cls",{metric:e}),ba=e})}function Uf(){Ff(e=>{sr("fid",{metric:e}),Ea=e})}function jf(){Hf(e=>{sr("lcp",{metric:e}),wa=e})}function Ci(e,t,n,r){return ka(e,t),Pn[e]||(n(),Pn[e]=!0),r&&t({metric:r}),Ia(e,t)}function zf(e){const t={};e==="event"&&(t.durationThreshold=0),nr(e,n=>{sr(e,{entries:n})},t)}function ka(e,t){Gt[e]=Gt[e]||[],Gt[e].push(t)}function Ia(e,t){return()=>{const n=Gt[e];if(!n)return;const r=n.indexOf(t);r!==-1&&n.splice(r,1)}}function vr(e){return typeof e=="number"&&isFinite(e)}function Nt(e,{startTimestamp:t,...n}){return t&&e.startTimestamp>t&&(e.startTimestamp=t),e.startChild({startTimestamp:t,...n})}const Gf=2147483647;function ee(e){return e/1e3}function Ra(){return W&&W.addEventListener&&W.performance}let As=0,X={},Re,Vt;function Vf(){const e=Ra();if(e&&we){e.mark&&W.performance.mark("sentry-tracing-init");const t=Zf(),n=qf(),r=Jf();return()=>{t(),n(),r()}}return()=>{}}function Yf(){ir("longtask",({entries:e})=>{for(const t of e){const n=ln();if(!n)return;const r=ee(we+t.startTime),i=ee(t.duration);n.startChild({description:"Main UI thread blocked",op:"ui.long-task",origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i})}})}function Xf(){ir("event",({entries:e})=>{for(const t of e){const n=ln();if(!n)return;if(t.name==="click"){const r=ee(we+t.startTime),i=ee(t.duration),s={description:at(t.target),op:`ui.interaction.${t.name}`,origin:"auto.ui.browser.metrics",startTimestamp:r,endTimestamp:r+i},o=bo(t.target);o&&(s.attributes={"ui.component_name":o}),n.startChild(s)}}})}function qf(){return Bf(({metric:e})=>{const t=e.entries.pop();t&&(Y&&m.log("[Measurements] Adding CLS"),X.cls={value:e.value,unit:""},Vt=t)})}function Jf(){return Ta(({metric:e})=>{const t=e.entries.pop();t&&(Y&&m.log("[Measurements] Adding LCP"),X.lcp={value:e.value,unit:"millisecond"},Re=t)})}function Zf(){return Wf(({metric:e})=>{const t=e.entries.pop();if(!t)return;const n=ee(we),r=ee(t.startTime);Y&&m.log("[Measurements] Adding FID"),X.fid={value:e.value,unit:"millisecond"},X["mark.fid"]={value:n+r,unit:"second"}})}function Kf(e){const t=Ra();if(!t||!W.performance.getEntries||!we)return;Y&&m.log("[Tracing] Adding & adjusting spans using Performance API");const n=ee(we),r=t.getEntries();let i,s;if(r.slice(As).forEach(o=>{const a=ee(o.startTime),c=ee(o.duration);if(!(e.op==="navigation"&&n+a<e.startTimestamp))switch(o.entryType){case"navigation":{eh(e,o,n),i=n+ee(o.responseStart),s=n+ee(o.requestStart);break}case"mark":case"paint":case"measure":{Qf(e,o,a,c,n);const u=Ri(),d=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&d&&(Y&&m.log("[Measurements] Adding FP"),X.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&d&&(Y&&m.log("[Measurements] Adding FCP"),X.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{const u=o.name.replace(W.location.origin,"");nh(e,o,u,a,c,n);break}}}),As=Math.max(r.length-1,0),rh(e),e.op==="pageload"){typeof i=="number"&&(Y&&m.log("[Measurements] Adding TTFB"),X.ttfb={value:(i-e.startTimestamp)*1e3,unit:"millisecond"},typeof s=="number"&&s<=i&&(X["ttfb.requestTime"]={value:(i-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!X[a]||n>=e.startTimestamp)return;const c=X[a].value,u=n+ee(c),d=Math.abs((u-e.startTimestamp)*1e3),l=d-c;Y&&m.log(`[Measurements] Normalized ${a} from ${c} to ${d} (${l})`),X[a].value=d});const o=X["mark.fid"];o&&X.fid&&(Nt(e,{description:"first input delay",endTimestamp:o.value+ee(X.fid.value),op:"ui.action",origin:"auto.ui.browser.metrics",startTimestamp:o.value}),delete X["mark.fid"]),"fcp"in X||delete X.cls,Object.keys(X).forEach(a=>{e.setMeasurement(a,X[a].value,X[a].unit)}),ih(e)}Re=void 0,Vt=void 0,X={}}function Qf(e,t,n,r,i){const s=i+n,o=s+r;return Nt(e,{description:t.name,endTimestamp:o,op:t.entryType,origin:"auto.resource.browser.metrics",startTimestamp:s}),s}function eh(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{En(e,t,r,n)}),En(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),En(e,t,"fetch",n,"cache","domainLookupStart"),En(e,t,"domainLookup",n,"DNS"),th(e,t,n)}function En(e,t,n,r,i,s){const o=s?t[s]:t[`${n}End`],a=t[`${n}Start`];!a||!o||Nt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:i||n,startTimestamp:r+ee(a),endTimestamp:r+ee(o)})}function th(e,t,n){Nt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"request",startTimestamp:n+ee(t.requestStart),endTimestamp:n+ee(t.responseEnd)}),Nt(e,{op:"browser",origin:"auto.browser.browser.metrics",description:"response",startTimestamp:n+ee(t.responseStart),endTimestamp:n+ee(t.responseEnd)})}function nh(e,t,n,r,i,s){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const o={};br(o,t,"transferSize","http.response_transfer_size"),br(o,t,"encodedBodySize","http.response_content_length"),br(o,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(o["resource.render_blocking_status"]=t.renderBlockingStatus);const a=s+r,c=a+i;Nt(e,{description:n,endTimestamp:c,op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",origin:"auto.resource.browser.metrics",startTimestamp:a,data:o})}function rh(e){const t=W.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),vr(n.rtt)&&(X["connection.rtt"]={value:n.rtt,unit:"millisecond"})),vr(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),vr(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}function ih(e){Re&&(Y&&m.log("[Measurements] Adding LCP Data"),Re.element&&e.setTag("lcp.element",at(Re.element)),Re.id&&e.setTag("lcp.id",Re.id),Re.url&&e.setTag("lcp.url",Re.url.trim().slice(0,200)),e.setTag("lcp.size",Re.size)),Vt&&Vt.sources&&(Y&&m.log("[Measurements] Adding CLS Data"),Vt.sources.forEach((t,n)=>e.setTag(`cls.source.${n+1}`,at(t.node))))}function br(e,t,n,r){const i=t[n];i!=null&&i<Gf&&(e[r]=i)}function sh(e,t,n,r,i="auto.http.browser"){if(!bi()||!e.fetchData)return;const s=t(e.fetchData.url);if(e.endTimestamp&&s){const f=e.fetchData.__span;if(!f)return;const h=r[f];if(h){if(e.response){h.setHttpStatus(e.response.status);const p=e.response&&e.response.headers&&e.response.headers.get("content-length");if(p){const g=parseInt(p);g>0&&h.setAttribute("http.response_content_length",g)}}else e.error&&h.setStatus("internal_error");h.end(),delete r[f]}return}const o=Pe(),a=G(),c=Qo(),{method:u,url:d}=e.fetchData,l=s&&c?c.startChild({data:{url:d,type:"fetch","http.method":u},description:`${u} ${d}`,op:"http.client",origin:i}):void 0;if(l&&(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l),n(e.fetchData.url)&&a){const f=e.args[0];e.args[1]=e.args[1]||{};const h=e.args[1];h.headers=oh(f,a,o,h,l)}return l}function oh(e,t,n,r,i){const s=i||n.getSpan(),o=s&&s.transaction,{traceId:a,sampled:c,dsc:u}=n.getPropagationContext(),d=s?Qn(s):hi(a,void 0,c),l=o?Kt(o):u||er(a,t,n),f=Wr(l),h=typeof Request<"u"&&$e(e,Request)?e.headers:r.headers;if(h)if(typeof Headers<"u"&&$e(h,Headers)){const p=new Headers(h);return p.append("sentry-trace",d),f&&p.append(Br,f),p}else if(Array.isArray(h)){const p=[...h,["sentry-trace",d]];return f&&p.push([Br,f]),p}else{const p="baggage"in h?h.baggage:void 0,g=[];return Array.isArray(p)?g.push(...p):p&&g.push(p),f&&g.push(f),{...h,"sentry-trace":d,baggage:g.length>0?g.join(","):void 0}}else return{"sentry-trace":d,baggage:f}}const Vr=["localhost",/^\/(?!\/)/],Yr={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,tracingOrigins:Vr,tracePropagationTargets:Vr};function ah(e){const{traceFetch:t,traceXHR:n,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o}={traceFetch:Yr.traceFetch,traceXHR:Yr.traceXHR,...e},a=typeof s=="function"?s:d=>!0,c=d=>dh(d,r||i),u={};t&&li(d=>{const l=sh(d,a,c,u);o&&l&&Os(l)}),n&&di(d=>{const l=fh(d,a,c,u);o&&l&&Os(l)})}function ch(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Os(e){const{url:t}=Le(e).data||{};if(!t||typeof t!="string")return;const n=ir("resource",({entries:r})=>{r.forEach(i=>{ch(i)&&i.name.endsWith(t)&&(lh(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function uh(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Ie(e=0){return((we||performance.timeOrigin)+e)/1e3}function lh(e){const{name:t,version:n}=uh(e.nextHopProtocol),r=[];return r.push(["network.protocol.version",n],["network.protocol.name",t]),we?[...r,["http.request.redirect_start",Ie(e.redirectStart)],["http.request.fetch_start",Ie(e.fetchStart)],["http.request.domain_lookup_start",Ie(e.domainLookupStart)],["http.request.domain_lookup_end",Ie(e.domainLookupEnd)],["http.request.connect_start",Ie(e.connectStart)],["http.request.secure_connection_start",Ie(e.secureConnectionStart)],["http.request.connection_end",Ie(e.connectEnd)],["http.request.request_start",Ie(e.requestStart)],["http.request.response_start",Ie(e.responseStart)],["http.request.response_end",Ie(e.responseEnd)]]:r}function dh(e,t){return Ht(e,t||Vr)}function fh(e,t,n,r){const i=e.xhr,s=i&&i[qe];if(!bi()||!i||i.__sentry_own_request__||!s)return;const o=t(s.url);if(e.endTimestamp&&o){const d=i.__sentry_xhr_span_id__;if(!d)return;const l=r[d];l&&s.status_code!==void 0&&(l.setHttpStatus(s.status_code),l.end(),delete r[d]);return}const a=Pe(),c=Qo(),u=o&&c?c.startChild({data:{type:"xhr","http.method":s.method,url:s.url},description:`${s.method} ${s.url}`,op:"http.client",origin:"auto.http.browser"}):void 0;if(u&&(i.__sentry_xhr_span_id__=u.spanContext().spanId,r[i.__sentry_xhr_span_id__]=u),i.setRequestHeader&&n(s.url))if(u){const d=u&&u.transaction,l=d&&Kt(d),f=Wr(l);Ns(i,Qn(u),f)}else{const d=G(),{traceId:l,sampled:f,dsc:h}=a.getPropagationContext(),p=hi(l,void 0,f),g=h||(d?er(l,d,a):void 0),y=Wr(g);Ns(i,p,y)}return u}function Ns(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(Br,n)}catch{}}function hh(e,t=!0,n=!0){if(!W||!W.location){Y&&m.warn("Could not initialize routing instrumentation due to invalid location");return}let r=W.location.href,i;t&&(i=e({name:W.location.pathname,startTimestamp:we?we/1e3:void 0,op:"pageload",origin:"auto.pageload.browser",metadata:{source:"url"}})),n&&Zn(({to:s,from:o})=>{if(o===void 0&&r&&r.indexOf(s)!==-1){r=void 0;return}o!==s&&(r=void 0,i&&(Y&&m.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.end()),i=e({name:W.location.pathname,op:"navigation",origin:"auto.navigation.browser",metadata:{source:"url"}}))})}const ph="BrowserTracing",mh={...xn,markBackgroundTransactions:!0,routingInstrumentation:hh,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Yr};class qy{constructor(t){this.name=ph,this._hasSetTracePropagationTargets=!1,Cl(),Y&&(this._hasSetTracePropagationTargets=!!(t&&(t.tracePropagationTargets||t.tracingOrigins))),this.options={...mh,...t},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),t&&!t.tracePropagationTargets&&t.tracingOrigins&&(this.options.tracePropagationTargets=t.tracingOrigins),this._collectWebVitals=Vf(),this.options.enableLongTask&&Yf(),this.options._experiments.enableInteractions&&Xf()}setupOnce(t,n){this._getCurrentHub=n;const i=n().getClient(),s=i&&i.getOptions(),{routingInstrumentation:o,startTransactionOnLocationChange:a,startTransactionOnPageLoad:c,markBackgroundTransactions:u,traceFetch:d,traceXHR:l,shouldCreateSpanForRequest:f,enableHTTPTimings:h,_experiments:p}=this.options,g=s&&s.tracePropagationTargets,y=g||this.options.tracePropagationTargets;Y&&this._hasSetTracePropagationTargets&&g&&m.warn("[Tracing] The `tracePropagationTargets` option was set in the BrowserTracing integration and top level `Sentry.init`. The top level `Sentry.init` value is being used."),o(_=>{const S=this._createRouteTransaction(_);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(S,_,n),S},c,a),u&&Af(),p.enableInteractions&&this._registerInteractionListener(),ah({traceFetch:d,traceXHR:l,tracePropagationTargets:y,shouldCreateSpanForRequest:f,enableHTTPTimings:h})}_createRouteTransaction(t){if(!this._getCurrentHub){Y&&m.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`);return}const n=this._getCurrentHub(),{beforeNavigate:r,idleTimeout:i,finalTimeout:s,heartbeatInterval:o}=this.options,a=t.op==="pageload",c=a?Ds("sentry-trace"):"",u=a?Ds("baggage"):"",{traceparentData:d,dynamicSamplingContext:l,propagationContext:f}=Fu(c,u),h={...t,...d,metadata:{...t.metadata,dynamicSamplingContext:d&&!l?{}:l},trimEnd:!0},p=typeof r=="function"?r(h):h,g=p===void 0?{...h,sampled:!1}:p;g.metadata=g.name!==h.name?{...g.metadata,source:"custom"}:g.metadata,this._latestRouteName=g.name;const y=t.data&&t.data[Ct],_=g.metadata&&g.metadata.source;this._latestRouteSource=y||_,g.sampled===!1&&Y&&m.log(`[Tracing] Will not send ${g.op} transaction because of beforeNavigate.`),Y&&m.log(`[Tracing] Starting ${g.op} transaction on scope`);const{location:S}=W,k=vs(n,g,i,s,!0,{location:S},o),I=n.getScope();return a&&d?I.setPropagationContext(f):I.setPropagationContext({traceId:k.spanContext().traceId,spanId:k.spanContext().spanId,parentSpanId:k.parentSpanId,sampled:yi(k)}),k.registerBeforeFinishCallback(A=>{this._collectWebVitals(),Kf(A)}),k}_registerInteractionListener(){let t;const n=()=>{const{idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=this.options,o="ui.action.click",a=ln();if(a&&a.op&&["navigation","pageload"].includes(a.op)){Y&&m.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(t&&(t.setFinishReason("interactionInterrupted"),t.end(),t=void 0),!this._getCurrentHub){Y&&m.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){Y&&m.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}const c=this._getCurrentHub(),{location:u}=W,d={name:this._latestRouteName,op:o,trimEnd:!0,data:{[Ct]:this._latestRouteSource||"url"}};t=vs(c,d,r,i,!0,{location:u},s)};["click"].forEach(r=>{addEventListener(r,n,{once:!1,capture:!0})})}}function Ds(e){const t=jc(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0}const z=N,xi="sentryReplaySession",gh="replay_event",Mi="Unable to send Replay",_h=3e5,yh=9e5,Sh=5e3,vh=5500,bh=6e4,Eh=5e3,wh=3,Ls=15e4,wn=5e3,Th=3e3,kh=300,Ai=2e7,Ih=4999,Rh=15e3,Ps=36e5,Fs={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}};function Ch(e,t){return e??t()}function Fn(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}var te;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(te||(te={}));function xh(e){return e.nodeType===e.ELEMENT_NODE}function Yt(e){const t=Fn([e,"optionalAccess",n=>n.host]);return Fn([t,"optionalAccess",n=>n.shadowRoot])===e}function Xt(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function Mh(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),e}function Ah(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Hn(e){try{const t=e.rules||e.cssRules;return t?Mh(Array.from(t,Ca).join("")):null}catch{return null}}function Ca(e){let t;if(Nh(e))try{t=Hn(e.styleSheet)||Ah(e)}catch{}else if(Dh(e)&&e.selectorText.includes(":"))return Oh(e.cssText);return t||e.cssText}function Oh(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function Nh(e){return"styleSheet"in e}function Dh(e){return"selectorText"in e}class xa{constructor(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}getId(t){if(!t)return-1;const n=Fn([this,"access",r=>r.getMeta,"call",r=>r(t),"optionalAccess",r=>r.id]);return Ch(n,()=>-1)}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function Lh(){return new xa}function or({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function en({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function Dt(e){return e.toLowerCase()}function Xr(e){return e.toUpperCase()}const Hs="__rrweb_original__";function Ph(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=Hs in s?s[Hs]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(c=>c!==0))return!1}return!0}function Oi(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Dt(t):null}function Bn(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}let Fh=1;const Hh=new RegExp("[^a-z0-9-_:]"),tn=-2;function Ni(){return Fh++}function Bh(e){if(e instanceof HTMLFormElement)return"form";const t=Dt(e.tagName);return Hh.test(t)?"div":t}function Wh(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let gt,Bs;const $h=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Uh=/^(?:[a-z+]+:)?\/\//i,jh=/^www\..*/i,zh=/^(data:)([^,]*),(.*)/i;function Wn(e,t){return(e||"").replace($h,(n,r,i,s,o,a)=>{const c=i||o||a,u=r||s||"";if(!c)return n;if(Uh.test(c)||jh.test(c))return`url(${u}${c}${u})`;if(zh.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${Wh(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const Gh=/^[^ \t\n\r\u000c]+/,Vh=/^[, \t\n\r\u000c]+/;function Yh(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(Vh),!(n>=t.length);){let s=r(Gh);if(s.slice(-1)===",")s=Et(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=Et(e,s);let a=!1;for(;;){const c=t.charAt(n);if(c===""){i.push((s+o).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,i.push((s+o).trim());break}else c==="("&&(a=!0);o+=c,n+=1}}}return i.join(", ")}function Et(e,t){if(!t||t.trim()==="")return t;const n=e.createElement("a");return n.href=t,n.href}function Xh(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Di(){const e=document.createElement("a");return e.href="",e.href}function Ma(e,t,n,r,i,s){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?Et(e,r):n==="srcset"?Yh(e,r):n==="style"?Wn(r,Di()):t==="object"&&n==="data"?Et(e,r):typeof s=="function"?s(n,r,i):r)}function Aa(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function qh(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function Jh(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ot(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ot(e.parentNode,t,n,r+1)}function wt(e,t){return n=>{const r=n;if(r===null)return!1;if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(Jh(r,e))return!0}return!!(t&&r.matches(t))}}function Lt(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;let a=-1,c=-1;if(s){if(c=ot(o,wt(r,i)),c<0)return!0;a=ot(o,wt(t,n),c>=0?c:1/0)}else{if(a=ot(o,wt(t,n)),a<0)return!1;c=ot(o,wt(r,i),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!s}catch{}return!!s}function Zh(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=setTimeout(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{clearTimeout(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function Kh(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=setTimeout(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{clearTimeout(s),r=!0,t()})}function Qh(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:h,maskInputOptions:p={},maskTextFn:g,maskInputFn:y,dataURLOptions:_={},inlineImages:S,recordCanvas:k,keepIframeSrcFn:I,newlyAddedElement:A=!1}=t,w=ep(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:te.Document,childNodes:[],compatMode:e.compatMode}:{type:te.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:te.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:w};case e.ELEMENT_NODE:return np(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:h,maskAttributeFn:c,maskInputOptions:p,maskInputFn:y,dataURLOptions:_,inlineImages:S,recordCanvas:k,keepIframeSrcFn:I,newlyAddedElement:A,rootId:w,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f});case e.TEXT_NODE:return tp(e,{maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:p,maskInputFn:y,rootId:w});case e.CDATA_SECTION_NODE:return{type:te.CDATA,textContent:"",rootId:w};case e.COMMENT_NODE:return{type:te.Comment,textContent:e.textContent||"",rootId:w};default:return!1}}function ep(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function tp(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const h=l==="STYLE"?!0:void 0,p=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(h&&f){try{e.nextSibling||e.previousSibling||Fn([e,"access",_=>_.parentNode,"access",_=>_.sheet,"optionalAccess",_=>_.cssRules])&&(f=Hn(e.parentNode.sheet))}catch{}f=Wn(f,Di())}p&&(f="SCRIPT_PLACEHOLDER");const y=Lt(e,r,s,i,o,n);if(!h&&!p&&!g&&f&&y&&(f=a?a(f):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||y)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const _=or({type:null,tagName:l,maskInputOptions:c});f=en({isMasked:Lt(e,r,s,i,o,_),element:e,value:f,maskInputFn:u})}return{type:te.Text,textContent:f||"",isStyle:h,rootId:d}}function np(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:h,newlyAddedElement:p=!1,rootId:g,maskAllText:y,maskTextClass:_,unmaskTextClass:S,maskTextSelector:k,unmaskTextSelector:I}=t,A=qh(e,r,i,s),w=Bh(e);let v={};const b=e.attributes.length;for(let E=0;E<b;E++){const R=e.attributes[E];Aa(w,R.name,R.value)||(v[R.name]=Ma(n,w,Dt(R.name),R.value,e,c))}if(w==="link"&&o){const E=Array.from(n.styleSheets).find(F=>F.href===e.href);let R=null;E&&(R=Hn(E)),R&&(delete v.rel,delete v.href,v._cssText=Wn(R,E.href))}if(w==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const E=Hn(e.sheet);E&&(v._cssText=Wn(E,Di()))}if(w==="input"||w==="textarea"||w==="select"||w==="option"){const E=e,R=Oi(E),F=Bn(E,Xr(w),R),q=E.checked;if(R!=="submit"&&R!=="button"&&F){const J=Lt(E,_,k,S,I,or({type:R,tagName:Xr(w),maskInputOptions:a}));v.value=en({isMasked:J,element:E,value:F,maskInputFn:u})}q&&(v.checked=q)}if(w==="option"&&(e.selected&&!a.select?v.selected=!0:delete v.selected),w==="canvas"&&f){if(e.__context==="2d")Ph(e)||(v.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const E=e.toDataURL(d.type,d.quality),R=document.createElement("canvas");R.width=e.width,R.height=e.height;const F=R.toDataURL(d.type,d.quality);E!==F&&(v.rr_dataURL=E)}}if(w==="img"&&l){gt||(gt=n.createElement("canvas"),Bs=gt.getContext("2d"));const E=e,R=E.crossOrigin;E.crossOrigin="anonymous";const F=()=>{E.removeEventListener("load",F);try{gt.width=E.naturalWidth,gt.height=E.naturalHeight,Bs.drawImage(E,0,0),v.rr_dataURL=gt.toDataURL(d.type,d.quality)}catch{}R?v.crossOrigin=R:E.removeAttribute("crossorigin")};E.complete&&E.naturalWidth!==0?F():E.addEventListener("load",F)}if((w==="audio"||w==="video")&&(v.rr_mediaState=e.paused?"paused":"played",v.rr_mediaCurrentTime=e.currentTime),p||(e.scrollLeft&&(v.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(v.rr_scrollTop=e.scrollTop)),A){const{width:E,height:R}=e.getBoundingClientRect();v={class:v.class,rr_width:`${E}px`,rr_height:`${R}px`}}w==="iframe"&&!h(v.src)&&(e.contentDocument||(v.rr_src=v.src),delete v.src);let U;try{customElements.get(w)&&(U=!0)}catch{}return{type:te.Element,tagName:w,attributes:v,childNodes:[],isSVG:Xh(e)||void 0,needBlock:A,rootId:g,isCustom:U}}function j(e){return e==null?"":e.toLowerCase()}function rp(e,t){if(t.comment&&e.type===te.Comment)return!0;if(e.type===te.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")&&e.attributes.as==="script"||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(j(e.attributes.name).match(/^msapplication-tile(image|color)$/)||j(e.attributes.name)==="application-name"||j(e.attributes.rel)==="icon"||j(e.attributes.rel)==="apple-touch-icon"||j(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&j(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(j(e.attributes.property).match(/^(og|twitter|fb):/)||j(e.attributes.name).match(/^(og|twitter):/)||j(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(j(e.attributes.name)==="robots"||j(e.attributes.name)==="googlebot"||j(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(j(e.attributes.name)==="author"||j(e.attributes.name)==="generator"||j(e.attributes.name)==="framework"||j(e.attributes.name)==="publisher"||j(e.attributes.name)==="progid"||j(e.attributes.property).match(/^article:/)||j(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(j(e.attributes.name)==="google-site-verification"||j(e.attributes.name)==="yandex-verification"||j(e.attributes.name)==="csrf-token"||j(e.attributes.name)==="p:domain_verify"||j(e.attributes.name)==="verify-v1"||j(e.attributes.name)==="verification"||j(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Tt(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:h=!0,maskInputOptions:p={},maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:k={},inlineImages:I=!1,recordCanvas:A=!1,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:b=5e3,onStylesheetLoad:U,stylesheetLoadTimeout:E=5e3,keepIframeSrcFn:R=()=>!1,newlyAddedElement:F=!1}=t;let{preserveWhiteSpace:q=!0}=t;const J=Qh(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:h,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,dataURLOptions:k,inlineImages:I,recordCanvas:A,keepIframeSrcFn:R,newlyAddedElement:F});if(!J)return null;let he;r.hasNode(e)?he=r.getId(e):rp(J,S)||!q&&J.type===te.Text&&!J.isStyle&&!J.textContent.replace(/^\s+|\s+$/gm,"").length?he=tn:he=Ni();const H=Object.assign(J,{id:he});if(r.add(e,H),he===tn)return null;w&&w(e);let Te=!f;if(H.type===te.Element){Te=Te&&!H.needBlock,delete H.needBlock;const Z=e.shadowRoot;Z&&Xt(Z)&&(H.isShadowHost=!0)}if((H.type===te.Document||H.type===te.Element)&&Te){S.headWhitespace&&H.type===te.Element&&H.tagName==="head"&&(q=!1);const Z={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:h,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:k,inlineImages:I,recordCanvas:A,preserveWhiteSpace:q,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:b,onStylesheetLoad:U,stylesheetLoadTimeout:E,keepIframeSrcFn:R};for(const de of Array.from(e.childNodes)){const ke=Tt(de,Z);ke&&H.childNodes.push(ke)}if(xh(e)&&e.shadowRoot)for(const de of Array.from(e.shadowRoot.childNodes)){const ke=Tt(de,Z);ke&&(Xt(e.shadowRoot)&&(ke.isShadow=!0),H.childNodes.push(ke))}}return e.parentNode&&Yt(e.parentNode)&&Xt(e.parentNode)&&(H.isShadow=!0),H.type===te.Element&&H.tagName==="iframe"&&Zh(e,()=>{const Z=e.contentDocument;if(Z&&v){const de=Tt(Z,{doc:Z,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:h,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:k,inlineImages:I,recordCanvas:A,preserveWhiteSpace:q,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:b,onStylesheetLoad:U,stylesheetLoadTimeout:E,keepIframeSrcFn:R});de&&v(e,de)}},b),H.type===te.Element&&H.tagName==="link"&&H.attributes.rel==="stylesheet"&&Kh(e,()=>{if(U){const Z=Tt(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:h,maskInputOptions:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S,dataURLOptions:k,inlineImages:I,recordCanvas:A,preserveWhiteSpace:q,onSerialize:w,onIframeLoad:v,iframeLoadTimeout:b,onStylesheetLoad:U,stylesheetLoadTimeout:E,keepIframeSrcFn:R});Z&&U(e,Z)}},E),H}function ip(e,t){const{mirror:n=new xa,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:h=!1,maskAllInputs:p=!1,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOM:S=!1,dataURLOptions:k,preserveWhiteSpace:I,onSerialize:A,onIframeLoad:w,iframeLoadTimeout:v,onStylesheetLoad:b,stylesheetLoadTimeout:U,keepIframeSrcFn:E=()=>!1}=t||{};return Tt(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:p===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:p===!1?{}:p,maskAttributeFn:g,maskTextFn:y,maskInputFn:_,slimDOMOptions:S===!0||S==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:S==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:S===!1?{}:S,dataURLOptions:k,inlineImages:f,recordCanvas:h,preserveWhiteSpace:I,onSerialize:A,onIframeLoad:w,iframeLoadTimeout:v,onStylesheetLoad:b,stylesheetLoadTimeout:U,keepIframeSrcFn:E,newlyAddedElement:!1})}function ze(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function ue(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}let Ws={map:{},getId(){return-1},getNode(){return null},removeNodeFromMap(){},has(){return!1},reset(){}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Ws=new Proxy(Ws,{get(e,t,n){return Reflect.get(e,t,n)}}));function nn(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),c=this;a<=0||a>t?(r&&(clearTimeout(r),r=null),i=o,e.apply(c,s)):!r&&n.trailing!==!1&&(r=setTimeout(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(c,s)},a))}}function Oa(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){setTimeout(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>Oa(e,t,s||{},!0)}function Li(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let $n=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||($n=()=>new Date().getTime());function Na(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:ze([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollLeft])||ze([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollLeft])||ze([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:ze([t,"optionalAccess",n=>n.documentElement,"access",n=>n.scrollTop])||ze([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.parentElement,"optionalAccess",n=>n.scrollTop])||ze([t,"optionalAccess",n=>n.body,"optionalAccess",n=>n.scrollTop])||0}}function Da(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function La(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function be(e,t,n,r,i){if(!e)return!1;const s=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(!s)return!1;const o=wt(t,n);if(!i){const u=r&&s.matches(r);return o(s)&&!u}const a=ot(s,o);let c=-1;return a<0?!1:(r&&(c=ot(s,wt(null,r))),a>-1&&c<0?!0:a<c)}function sp(e,t){return t.getId(e)!==-1}function Er(e,t){return t.getId(e)===tn}function Pa(e,t){if(Yt(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Pa(e.parentNode,t):!0:!0}function qr(e){return!!e.changedTouches}function op(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Fa(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Ha(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Jr(e){return!!ze([e,"optionalAccess",t=>t.shadowRoot])}class ap{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return Yu(this.styleIDMap.get(t),()=>-1)}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Ba(e){let t=null;return ze([e,"access",n=>n.getRootNode,"optionalCall",n=>n(),"optionalAccess",n=>n.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function cp(e){let t=e,n;for(;n=Ba(t);)t=n;return t}function up(e){const t=e.ownerDocument;if(!t)return!1;const n=cp(e);return t.contains(n)}function Wa(e){const t=e.ownerDocument;return t?t.contains(e)||up(e):!1}let wr;function lp(){if(wr)return wr;const e=window.document;let t=window.requestAnimationFrame;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.requestAnimationFrame&&(t=r.requestAnimationFrame),e.head.removeChild(n)}catch{}return wr=t.bind(window)}function dp(...e){return lp()(...e)}var C=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(C||{}),x=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(x||{}),ae=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ae||{}),Fe=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Fe||{});function fp(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}function $s(e){return"__ln"in e}class hp{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=fp([n,"optionalAccess",i=>i.next])||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&$s(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&$s(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Us=(e,t)=>`${e}@${t}`;class pp{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new hp,i=c=>{let u=c,d=tn;for(;d===tn;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},s=c=>{if(!c.parentNode||!Wa(c))return;const u=Yt(c.parentNode)?this.mirror.getId(Ba(c)):this.mirror.getId(c.parentNode),d=i(c);if(u===-1||d===-1)return r.addNode(c);const l=Tt(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{Fa(f,this.mirror)&&this.iframeManager.addIframe(f),Ha(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Jr(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,h)=>{this.iframeManager.attachIframe(f,h),this.shadowDomManager.observeAttachShadow(f)},onStylesheetLoad:(f,h)=>{this.stylesheetManager.attachLinkElement(f,h)}});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)js(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||s(c);for(const c of this.addedSet)!zs(this.droppedSet,c)&&!js(this.removes,c,this.mirror)||zs(this.movedSet,c)?s(c):this.droppedSet.add(c);let o=null;for(;r.length;){let c=null;if(o){const u=this.mirror.getId(o.value.parentNode),d=i(o.value);u!==-1&&d!==-1&&(c=o)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(i(d.value)===-1)continue;if(l!==-1){c=d;break}else{const h=d.value;if(h.parentNode&&h.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const p=h.parentNode.host;if(this.mirror.getId(p)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}o=c.previous,r.removeNode(c.value),s(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(Er(t.target,this.mirror))return;let n;try{n=document.implementation.createHTMLDocument()}catch{n=this.doc}switch(t.type){case"characterData":{const r=t.target.textContent;!be(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&r!==t.oldValue&&this.texts.push({value:Lt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&r?this.maskTextFn?this.maskTextFn(r):r.replace(/[\S]/g,"*"):r,node:t.target});break}case"attributes":{const r=t.target;let i=t.attributeName,s=t.target.getAttribute(i);if(i==="value"){const a=Oi(r),c=r.tagName;s=Bn(r,c,a);const u=or({maskInputOptions:this.maskInputOptions,tagName:c,type:a}),d=Lt(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,u);s=en({isMasked:d,element:r,value:s,maskInputFn:this.maskInputFn})}if(be(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||s===t.oldValue)return;let o=this.attributes.find(a=>a.node===t.target);if(r.tagName==="IFRAME"&&i==="src"&&!this.keepIframeSrcFn(s))if(!r.contentDocument)i="rr_src";else return;if(o||(o={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(o)),i==="type"&&r.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&r.setAttribute("data-rr-is-password","true"),!Aa(r.tagName,i)&&(o.attributes[i]=Ma(this.doc,Dt(r.tagName),Dt(i),s,r,this.maskAttributeFn),i==="style")){const a=n.createElement("span");t.oldValue&&a.setAttribute("style",t.oldValue);for(const c of Array.from(r.style)){const u=r.style.getPropertyValue(c),d=r.style.getPropertyPriority(c);u!==a.style.getPropertyValue(c)||d!==a.style.getPropertyPriority(c)?d===""?o.styleDiff[c]=u:o.styleDiff[c]=[u,d]:o._unchangedStyles[c]=[u,d]}for(const c of Array.from(a.style))r.style.getPropertyValue(c)===""&&(o.styleDiff[c]=!1)}break}case"childList":{if(be(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(r=>this.genAdds(r,t.target)),t.removedNodes.forEach(r=>{const i=this.mirror.getId(r),s=Yt(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);be(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Er(r,this.mirror)||!sp(r,this.mirror)||(this.addedSet.has(r)?(Zr(this.addedSet,r),this.droppedSet.add(r)):this.addedSet.has(t.target)&&i===-1||Pa(t.target,this.mirror)||(this.movedSet.has(r)&&this.movedMap[Us(i,s)]?Zr(this.movedSet,r):this.removes.push({parentId:s,id:i,isShadow:Yt(t.target)&&Xt(t.target)?!0:void 0})),this.mapRemoves.push(r))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Er(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Us(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);be(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes.forEach(r=>this.genAdds(r)),Jr(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Zr(e,t){e.delete(t),t.childNodes.forEach(n=>Zr(e,n))}function js(e,t,n){return e.length===0?!1:$a(e,t,n)}function $a(e,t,n){const{parentNode:r}=t;if(!r)return!1;const i=n.getId(r);return e.some(s=>s.id===i)?!0:$a(e,r,n)}function zs(e,t){return e.size===0?!1:Ua(e,t)}function Ua(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Ua(e,n):!1}let qt;function mp(e){qt=e}function gp(){qt=void 0}const O=e=>qt?(...n)=>{try{return e(...n)}catch(r){if(qt&&qt(r)===!0)return()=>{};throw r}}:e;function xe(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}const kt=[];function dn(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function ja(e,t){const n=new pp;kt.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=xe([window,"optionalAccess",o=>o.Zone,"optionalAccess",o=>o.__symbol__,"optionalCall",o=>o("MutationObserver")]);i&&window[i]&&(r=window[i]);const s=new r(O(o=>{e.onMutation&&e.onMutation(o)===!1||n.processMutations.bind(n)(o)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function _p({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const c=nn(O(l=>{const f=Date.now()-a;e(o.map(h=>(h.timeOffset-=f,h)),l),o=[],a=null}),s),u=O(nn(O(l=>{const f=dn(l),{clientX:h,clientY:p}=qr(l)?l.changedTouches[0]:l;a||(a=$n()),o.push({x:h,y:p,id:r.getId(f),timeOffset:$n()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?x.Drag:l instanceof MouseEvent?x.MouseMove:x.TouchMove)}),i,{trailing:!1})),d=[ue("mousemove",u,n),ue("touchmove",u,n),ue("drag",u,n)];return O(()=>{d.forEach(l=>l())})}function yp({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,c=[];let u=null;const d=l=>f=>{const h=dn(f);if(be(h,r,i,s,!0))return;let p=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":p=Fe.Mouse;break;case"touch":p=Fe.Touch;break;case"pen":p=Fe.Pen;break}p===Fe.Touch?ae[l]===ae.MouseDown?g="TouchStart":ae[l]===ae.MouseUp&&(g="TouchEnd"):Fe.Pen}else qr(f)&&(p=Fe.Touch);p!==null?(u=p,(g.startsWith("Touch")&&p===Fe.Touch||g.startsWith("Mouse")&&p===Fe.Mouse)&&(p=null)):ae[l]===ae.Click&&(p=u,u=null);const y=qr(f)?f.changedTouches[0]:f;if(!y)return;const _=n.getId(h),{clientX:S,clientY:k}=y;O(e)({type:ae[g],id:_,x:S,y:k,...p!==null&&{pointerType:p}})};return Object.keys(ae).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Dt(l);const h=d(l);if(window.PointerEvent)switch(ae[l]){case ae.MouseDown:case ae.MouseUp:f=f.replace("mouse","pointer");break;case ae.TouchStart:case ae.TouchEnd:return}c.push(ue(f,h,t))}),O(()=>{c.forEach(l=>l())})}function za({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){const a=O(nn(O(c=>{const u=dn(c);if(!u||be(u,r,i,s,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=Na(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),o.scroll||100));return ue("scroll",a,t)}function Sp({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=O(nn(O(()=>{const s=Da(),o=La();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return ue("resize",i,t)}const vp=["INPUT","TEXTAREA","SELECT"],Gs=new WeakMap;function bp({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:h,maskTextSelector:p,unmaskTextSelector:g}){function y(v){let b=dn(v);const U=v.isTrusted,E=b&&Xr(b.tagName);if(E==="OPTION"&&(b=b.parentElement),!b||!E||vp.indexOf(E)<0||be(b,r,i,s,!0))return;const R=b;if(R.classList.contains(o)||a&&R.matches(a))return;const F=Oi(b);let q=Bn(R,E,F),J=!1;const he=or({maskInputOptions:c,tagName:E,type:F}),H=Lt(b,f,p,h,g,he);(F==="radio"||F==="checkbox")&&(J=b.checked),q=en({isMasked:H,element:b,value:q,maskInputFn:u}),_(b,l?{text:q,isChecked:J,userTriggered:U}:{text:q,isChecked:J});const Te=b.name;F==="radio"&&Te&&J&&t.querySelectorAll(`input[type="radio"][name="${Te}"]`).forEach(Z=>{if(Z!==b){const de=en({isMasked:H,element:Z,value:Bn(Z,E,F),maskInputFn:u});_(Z,l?{text:de,isChecked:!J,userTriggered:!1}:{text:de,isChecked:!J})}})}function _(v,b){const U=Gs.get(v);if(!U||U.text!==b.text||U.isChecked!==b.isChecked){Gs.set(v,b);const E=n.getId(v);O(e)({...b,id:E})}}const k=(d.input==="last"?["change"]:["input","change"]).map(v=>ue(v,O(y),t)),I=t.defaultView;if(!I)return()=>{k.forEach(v=>v())};const A=I.Object.getOwnPropertyDescriptor(I.HTMLInputElement.prototype,"value"),w=[[I.HTMLInputElement.prototype,"value"],[I.HTMLInputElement.prototype,"checked"],[I.HTMLSelectElement.prototype,"value"],[I.HTMLTextAreaElement.prototype,"value"],[I.HTMLSelectElement.prototype,"selectedIndex"],[I.HTMLOptionElement.prototype,"selected"]];return A&&A.set&&k.push(...w.map(v=>Oa(v[0],v[1],{set(){O(y)({target:this,isTrusted:!1})}},!1,I))),O(()=>{k.forEach(v=>v())})}function Un(e){const t=[];function n(r,i){if(Tn("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||Tn("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||Tn("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||Tn("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function Ge(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function Ep({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:O((d,l,f)=>{const[h,p]=f,{id:g,styleId:y}=Ge(l,t,n.styleMirror);return(g&&g!==-1||y&&y!==-1)&&e({id:g,styleId:y,adds:[{rule:h,index:p}]}),d.apply(l,f)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:O((d,l,f)=>{const[h]=f,{id:p,styleId:g}=Ge(l,t,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,removes:[{index:h}]}),d.apply(l,f)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:O((d,l,f)=>{const[h]=f,{id:p,styleId:g}=Ge(l,t,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,replace:h}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:O((d,l,f)=>{const[h]=f,{id:p,styleId:g}=Ge(l,t,n.styleMirror);return(p&&p!==-1||g&&g!==-1)&&e({id:p,styleId:g,replaceSync:h}),d.apply(l,f)})}));const c={};kn("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(kn("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),kn("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),kn("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:O((f,h,p)=>{const[g,y]=p,{id:_,styleId:S}=Ge(h.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||S&&S!==-1)&&e({id:_,styleId:S,adds:[{rule:g,index:[...Un(h),y||0]}]}),f.apply(h,p)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:O((f,h,p)=>{const[g]=p,{id:y,styleId:_}=Ge(h.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||_&&_!==-1)&&e({id:y,styleId:_,removes:[{index:[...Un(h),g]}]}),f.apply(h,p)})})}),O(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function Ga({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?xe([n,"access",o=>o.defaultView,"optionalAccess",o=>o.Document]):xe([n,"access",o=>o.ownerDocument,"optionalAccess",o=>o.defaultView,"optionalAccess",o=>o.ShadowRoot]),s=xe([i,"optionalAccess",o=>o.prototype])?Object.getOwnPropertyDescriptor(xe([i,"optionalAccess",o=>o.prototype]),"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return xe([s,"access",o=>o.get,"optionalAccess",o=>o.call,"call",o=>o(this)])},set(o){const a=xe([s,"access",c=>c.set,"optionalAccess",c=>c.call,"call",c=>c(this,o)]);if(r!==null&&r!==-1)try{t.adoptStyleSheets(o,r)}catch{}return a}}),O(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function wp({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:O((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return s.apply(c,[d,l,f]);const{id:h,styleId:p}=Ge(xe([c,"access",g=>g.parentRule,"optionalAccess",g=>g.parentStyleSheet]),t,r.styleMirror);return(h&&h!==-1||p&&p!==-1)&&e({id:h,styleId:p,set:{property:d,value:l,priority:f},index:Un(c.parentRule)}),a.apply(c,u)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:O((a,c,u)=>{const[d]=u;if(n.has(d))return o.apply(c,[d]);const{id:l,styleId:f}=Ge(xe([c,"access",h=>h.parentRule,"optionalAccess",h=>h.parentStyleSheet]),t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:Un(c.parentRule)}),a.apply(c,u)})}),O(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function Tp({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){const a=O(u=>nn(O(d=>{const l=dn(d);if(!l||be(l,t,n,r,!0))return;const{currentTime:f,volume:h,muted:p,playbackRate:g}=l;e({type:u,id:i.getId(l),currentTime:f,volume:h,muted:p,playbackRate:g})}),s.media||500)),c=[ue("play",a(0),o),ue("pause",a(1),o),ue("seeked",a(2),o),ue("volumechange",a(3),o),ue("ratechange",a(4),o)];return O(()=>{c.forEach(u=>u())})}function kp({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(c,u,d){const l=new s(c,u,d);return i.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const o=Li(t.fonts,"add",function(a){return function(c){return setTimeout(O(()=>{const u=i.get(c);u&&(e(u),i.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=s}),r.push(o),O(()=>{r.forEach(a=>a())})}function Ip(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const c=O(()=>{const u=t.getSelection();if(!u||a&&xe([u,"optionalAccess",f=>f.isCollapsed]))return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const h=u.getRangeAt(f),{startContainer:p,startOffset:g,endContainer:y,endOffset:_}=h;be(p,r,i,s,!0)||be(y,r,i,s,!0)||d.push({start:n.getId(p),startOffset:g,end:n.getId(y),endOffset:_})}o({ranges:d})});return c(),ue("selectionchange",c)}function Rp({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Li(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function Cp(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};const r=ja(e,e.doc),i=_p(e),s=yp(e),o=za(e),a=Sp(e,{win:n}),c=bp(e),u=Tp(e),d=Ep(e,{win:n}),l=Ga(e,e.doc),f=wp(e,{win:n}),h=e.collectFonts?kp(e):()=>{},p=Ip(e),g=Rp(e),y=[];for(const _ of e.plugins)y.push(_.observer(_.callback,n,_.options));return O(()=>{kt.forEach(_=>_.reset()),r.disconnect(),i(),s(),o(),a(),c(),u(),d(),l(),f(),h(),p(),g(),y.forEach(_=>_())})}function Tn(e){return typeof window[e]<"u"}function kn(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Kr{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}function Vs(e){let t,n=e[0],r=1;for(;r<e.length;){const i=e[r],s=e[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&n==null)return;i==="access"||i==="optionalAccess"?(t=n,n=s(n)):(i==="call"||i==="optionalCall")&&(n=s((...o)=>n.call(t,...o)),t=void 0)}return n}class xp{constructor(){this.crossOriginIframeMirror=new Kr(Ni),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Mp{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Kr(Ni),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Kr(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),Vs([this,"access",r=>r.loadListener,"optionalCall",r=>r(t)]),t.contentDocument&&t.contentDocument.adoptedStyleSheets&&t.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(t.contentDocument.adoptedStyleSheets,this.mirror.getId(t.contentDocument))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case C.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:C.IncrementalSnapshot,data:{source:x.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case C.Meta:case C.Load:case C.DomContentLoaded:return!1;case C.Plugin:return n;case C.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case C.IncrementalSnapshot:switch(n.data.source){case x.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const i=this.crossOriginIframeRootIdMap.get(t);i&&this.patchRootIdOnNode(r.node,i)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case x.Drag:case x.TouchMove:case x.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case x.ViewportResize:return!1;case x.MediaInteraction:case x.MouseInteraction:case x.Scroll:case x.CanvasMutation:case x.Input:return this.replaceIds(n.data,t,["id"]),n;case x.StyleSheetRule:case x.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case x.Font:return n;case x.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case x.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),Vs([n,"access",r=>r.data,"access",r=>r.styles,"optionalAccess",r=>r.forEach,"call",r=>r(i=>{this.replaceStyleIds(i,t,["styleId"])})]),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==te.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Ap{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Op{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!Xt(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t);const r=ja({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(za({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),setTimeout(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(Ga({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){!t.contentWindow||!t.contentDocument||this.patchAttachShadow(t.contentWindow.Element,t.contentDocument)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Li(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&Wa(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet}}class Np{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}}class Dp{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new ap,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,c)=>({rule:Ca(a),index:c}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Lp{constructor(){this.nodeMap=new WeakMap,this.loop=!0,this.periodicallyClear()}periodicallyClear(){dp(()=>{this.clear(),this.loop&&this.periodicallyClear()})}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}clear(){this.nodeMap=new WeakMap}destroy(){this.loop=!1}}function Q(e){const t=e;return t.timestamp=$n(),t}let Qr,jn;const Se=Lh();function Je(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:h=null,inlineStylesheet:p=!0,maskAllInputs:g,maskInputOptions:y,slimDOMOptions:_,maskAttributeFn:S,maskInputFn:k,maskTextFn:I,packFn:A,sampling:w={},dataURLOptions:v={},mousemoveWait:b,recordCanvas:U=!1,recordCrossOriginIframes:E=!1,recordAfter:R=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:F=!1,collectFonts:q=!1,inlineImages:J=!1,plugins:he,keepIframeSrcFn:H=()=>!1,ignoreCSSAttributes:Te=new Set([]),errorHandler:Z,onMutation:de,getCanvasManager:ke}=e;mp(Z);const Wt=E?window.parent===window:!0;let tt=!1;if(!Wt)try{window.parent.document&&(tt=!1)}catch{tt=!0}if(Wt&&!t)throw new Error("emit function is required");b!==void 0&&w.mousemove===void 0&&(w.mousemove=b),Se.reset();const nt=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:y!==void 0?y:{},pt=_===!0||_==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:_==="all",headMetaDescKeywords:_==="all"}:_||{};op();let hn,fr=0;const Vi=M=>{for(const _e of he||[])_e.eventProcessor&&(M=_e.eventProcessor(M));return A&&!tt&&(M=A(M)),M},K=(M,_e)=>{if(_r([kt,"access",D=>D[0],"optionalAccess",D=>D.isFrozen,"call",D=>D()])&&M.type!==C.FullSnapshot&&!(M.type===C.IncrementalSnapshot&&M.data.source===x.Mutation)&&kt.forEach(D=>D.unfreeze()),Wt)_r([t,"optionalCall",D=>D(Vi(M),_e)]);else if(tt){const D={type:"rrweb",event:Vi(M),origin:window.location.origin,isCheckout:_e};window.parent.postMessage(D,"*")}if(M.type===C.FullSnapshot)hn=M,fr=0;else if(M.type===C.IncrementalSnapshot){if(M.data.source===x.Mutation&&M.data.isAttachIframe)return;fr++;const D=r&&fr>=r,ye=n&&M.timestamp-hn.timestamp>n;(D||ye)&&pr(!0)}};Qr=K;const pn=M=>{K(Q({type:C.IncrementalSnapshot,data:{source:x.Mutation,...M}}))},Yi=M=>K(Q({type:C.IncrementalSnapshot,data:{source:x.Scroll,...M}})),Mc=M=>K(Q({type:C.IncrementalSnapshot,data:{source:x.CanvasMutation,...M}})),Ac=M=>K(Q({type:C.IncrementalSnapshot,data:{source:x.AdoptedStyleSheet,...M}})),rt=new Dp({mutationCb:pn,adoptedStyleSheetCb:Ac}),it=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new xp:new Mp({mirror:Se,mutationCb:pn,stylesheetManager:rt,recordCrossOriginIframes:E,wrappedEmit:K});for(const M of he||[])M.getMirror&&M.getMirror({nodeMirror:Se,crossOriginIframeMirror:it.crossOriginIframeMirror,crossOriginIframeStyleMirror:it.crossOriginIframeStyleMirror});const hr=new Lp,Xi=Hp(ke,{recordCanvas:U,blockClass:i,blockSelector:s,unblockSelector:o,sampling:w.canvas,dataURLOptions:v}),mn=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Ap:new Op({mutationCb:pn,scrollCb:Yi,bypassOptions:{onMutation:de,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:nt,dataURLOptions:v,maskAttributeFn:S,maskTextFn:I,maskInputFn:k,recordCanvas:U,inlineImages:J,sampling:w,slimDOMOptions:pt,iframeManager:it,stylesheetManager:rt,canvasManager:Xi,keepIframeSrcFn:H,processedNodeManager:hr},mirror:Se}),pr=(M=!1)=>{K(Q({type:C.Meta,data:{href:window.location.href,width:La(),height:Da()}}),M),rt.reset(),mn.init(),kt.forEach(D=>D.lock());const _e=ip(document,{mirror:Se,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:p,maskAllInputs:nt,maskAttributeFn:S,maskInputFn:k,maskTextFn:I,slimDOM:pt,dataURLOptions:v,recordCanvas:U,inlineImages:J,onSerialize:D=>{Fa(D,Se)&&it.addIframe(D),Ha(D,Se)&&rt.trackLinkElement(D),Jr(D)&&mn.addShadowRoot(D.shadowRoot,document)},onIframeLoad:(D,ye)=>{it.attachIframe(D,ye),mn.observeAttachShadow(D)},onStylesheetLoad:(D,ye)=>{rt.attachLinkElement(D,ye)},keepIframeSrcFn:H});_e&&(K(Q({type:C.FullSnapshot,data:{node:_e,initialOffset:Na(window)}})),kt.forEach(D=>D.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&rt.adoptStyleSheets(document.adoptedStyleSheets,Se.getId(document)))};jn=pr;try{const M=[],_e=ye=>O(Cp)({onMutation:de,mutationCb:pn,mousemoveCb:(P,st)=>K(Q({type:C.IncrementalSnapshot,data:{source:st,positions:P}})),mouseInteractionCb:P=>K(Q({type:C.IncrementalSnapshot,data:{source:x.MouseInteraction,...P}})),scrollCb:Yi,viewportResizeCb:P=>K(Q({type:C.IncrementalSnapshot,data:{source:x.ViewportResize,...P}})),inputCb:P=>K(Q({type:C.IncrementalSnapshot,data:{source:x.Input,...P}})),mediaInteractionCb:P=>K(Q({type:C.IncrementalSnapshot,data:{source:x.MediaInteraction,...P}})),styleSheetRuleCb:P=>K(Q({type:C.IncrementalSnapshot,data:{source:x.StyleSheetRule,...P}})),styleDeclarationCb:P=>K(Q({type:C.IncrementalSnapshot,data:{source:x.StyleDeclaration,...P}})),canvasMutationCb:Mc,fontCb:P=>K(Q({type:C.IncrementalSnapshot,data:{source:x.Font,...P}})),selectionCb:P=>{K(Q({type:C.IncrementalSnapshot,data:{source:x.Selection,...P}}))},customElementCb:P=>{K(Q({type:C.IncrementalSnapshot,data:{source:x.CustomElement,...P}}))},blockClass:i,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:h,maskInputOptions:nt,inlineStylesheet:p,sampling:w,recordCanvas:U,inlineImages:J,userTriggeredOnInput:F,collectFonts:q,doc:ye,maskAttributeFn:S,maskInputFn:k,maskTextFn:I,keepIframeSrcFn:H,blockSelector:s,unblockSelector:o,slimDOMOptions:pt,dataURLOptions:v,mirror:Se,iframeManager:it,stylesheetManager:rt,shadowDomManager:mn,processedNodeManager:hr,canvasManager:Xi,ignoreCSSAttributes:Te,plugins:_r([he,"optionalAccess",P=>P.filter,"call",P=>P(st=>st.observer),"optionalAccess",P=>P.map,"call",P=>P(st=>({observer:st.observer,options:st.options,callback:Oc=>K(Q({type:C.Plugin,data:{plugin:st.name,payload:Oc}}))}))])||[]},{});it.addLoadListener(ye=>{try{M.push(_e(ye.contentDocument))}catch{}});const D=()=>{pr(),M.push(_e(document))};return document.readyState==="interactive"||document.readyState==="complete"?D():(M.push(ue("DOMContentLoaded",()=>{K(Q({type:C.DomContentLoaded,data:{}})),R==="DOMContentLoaded"&&D()})),M.push(ue("load",()=>{K(Q({type:C.Load,data:{}})),R==="load"&&D()},window))),()=>{M.forEach(ye=>ye()),hr.destroy(),jn=void 0,gp()}}catch{}}function Pp(e){if(!jn)throw new Error("please take full snapshot after start recording");jn(e)}function Fp(e){Qr&&Qr(e)}Je.mirror=Se;Je.takeFullSnapshot=Pp;function Hp(e,t){return e?e({...t,mirror:Se,win:window,mutationCb:n=>Fp(Q({type:C.IncrementalSnapshot,data:{source:x.CanvasMutation,...n}}))}):new Np}const Bp=3,Wp=5;function Pi(e){return e>9999999999?e:e*1e3}function Tr(e){return e>9999999999?e/1e3:e}function fn(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:C.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:Ce(t,10,1e3)}}),t.category==="console")))}const $p="button,a";function Va(e){return e.closest($p)||e}function Ya(e){const t=Xa(e);return!t||!(t instanceof Element)?t:Va(t)}function Xa(e){return Up(e)?e.target:e}function Up(e){return typeof e=="object"&&!!e&&"target"in e}let Ve;function jp(e){return Ve||(Ve=[],zp()),Ve.push(e),()=>{const t=Ve?Ve.indexOf(e):-1;t>-1&&Ve.splice(t,1)}}function zp(){re(z,"open",function(e){return function(...t){if(Ve)try{Ve.forEach(n=>n())}catch{}return e.apply(z,t)}})}function Gp(e,t,n){e.handleClick(t,n)}class Vp{constructor(t,n,r=fn){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=jp(()=>{this._lastMutation=Ys()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(Xp(n,this._ignoreSelector)||!qp(t))return;const r={timestamp:Tr(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=Tr(t)}registerScroll(t=Date.now()){this._lastScroll=Tr(t)}registerClick(t){const n=Va(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=Ys();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:z.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:o||1}};this._addBreadcrumbEvent(n,d);return}if(o>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:z.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=setTimeout(()=>this._checkClicks(),1e3)}}const Yp=["A","BUTTON","INPUT"];function Xp(e,t){return!!(!Yp.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function qp(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function Ys(){return Date.now()/1e3}function Jp(e,t){try{if(!Zp(t))return;const{source:n}=t.data;if(n===x.Mutation&&e.registerMutation(t.timestamp),n===x.Scroll&&e.registerScroll(t.timestamp),Kp(t)){const{type:r,id:i}=t.data,s=Je.mirror.getNode(i);s instanceof HTMLElement&&r===ae.Click&&e.registerClick(s)}}catch{}}function Zp(e){return e.type===Bp}function Kp(e){return e.data.source===x.MouseInteraction}function Oe(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var zn;(function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"})(zn||(zn={}));const Qp=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function em(e){const t={};for(const n in e)if(Qp.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const tm=e=>t=>{if(!e.isEnabled())return;const n=nm(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&i&&i.target&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&Gp(e.clickDetector,n,Ya(t.event)),fn(e,n)};function qa(e,t){const n=Je.mirror.getId(e),r=n&&Je.mirror.getNode(n),i=r&&Je.mirror.getMeta(r),s=i&&im(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===zn.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:em(s.attributes)}}:{}}}function nm(e){const{target:t,message:n}=rm(e);return Oe({category:`ui.${e.name}`,...qa(t,n)})}function rm(e){const t=e.name==="click";let n,r=null;try{r=t?Ya(e.event):Xa(e.event),n=at(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function im(e){return e.type===zn.Element}function sm(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=om(t);n&&fn(e,n)}function om(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||am(o)||!s)return null;const a=t||r||i,c=s.length===1;if(!a&&c)return null;const u=at(o,{maxStringLength:200})||"<unknown>",d=qa(o,u);return Oe({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function am(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const Xs={resource:fm,paint:lm,navigation:dm};function cm(e){return e.map(um).filter(Boolean)}function um(e){return Xs[e.entryType]?Xs[e.entryType](e):null}function Pt(e){return((we||z.performance.timeOrigin)+e)/1e3}function lm(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=Pt(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function dm(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:h,transferSize:p,type:g}=e;return i===0?null:{type:`${t}.${g}`,start:Pt(h),end:Pt(s),name:n,data:{size:p,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:s,redirectCount:f}}}function fm(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Pt(s),end:Pt(i),name:r,data:{size:u,statusCode:c,decodedBodySize:o,encodedBodySize:a}}}function hm(e){const t=e.entries,n=t[t.length-1],r=n?n.element:void 0,i=e.value,s=Pt(i);return{type:"largest-contentful-paint",name:"largest-contentful-paint",start:s,end:s,data:{value:i,size:i,nodeId:r?Je.mirror.getId(r):void 0}}}function pm(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(ir(i,n))}),r.push(Ta(({metric:i})=>{e.replayPerformanceEntries.push(hm(i))})),()=>{r.forEach(i=>i())}}const $=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,mm='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,a=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),s=a.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(a,n),O(a,s-8,r.d()),O(a,s-4,e),a}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(G)return G.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(let r=0,e=t.length;r<e;r++)n+=t[r].length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function gm(){const e=new Blob([mm]);return URL.createObjectURL(e)}function ce(e,t){$&&(m.info(e),t&&Ja(e))}function xt(e,t){$&&(m.info(e),t&&setTimeout(()=>{Ja(e)},0))}function Ja(e){Ke({category:"console",data:{logger:"replay"},level:"info",message:e},{level:"info"})}class Fi extends Error{constructor(){super(`Event buffer exceeded maximum size of ${Ai}.`)}}class Za{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>Ai)throw new Fi;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Pi(t):null}}class _m{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){ce("[Replay] Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,s)=>{const o=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",o),!c.success){$&&m.error("[Replay]",c.response),s(new Error("Error in compression worker"));return}i(c.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class ym{constructor(t){this._worker=new _m(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Pi(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>Ai?Promise.reject(new Fi):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{$&&m.warn('[Replay] Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Sm{constructor(t){this._fallback=new Za,this._compression=new ym(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch{ce("[Replay] Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n}=this._fallback,r=[];for(const i of t)r.push(this._compression.addEvent(i));this._compression.hasCheckout=n,this._used=this._compression;try{await Promise.all(r)}catch(i){$&&m.warn("[Replay] Failed to add events when switching buffers.",i)}}}function vm({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=bm(t);if(n)return n}return ce("[Replay] Using simple buffer"),new Za}function bm(e){try{const t=e||Em();if(!t)return;ce(`[Replay] Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Sm(n)}catch{ce("[Replay] Failed to create compression worker")}}function Em(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?gm():""}function Hi(){try{return"sessionStorage"in z&&!!z.sessionStorage}catch{return!1}}function wm(e){Tm(),e.session=void 0}function Tm(){if(Hi())try{z.sessionStorage.removeItem(xi)}catch{}}function Ka(e){return e===void 0?!1:Math.random()<e}function Qa(e){const t=Date.now(),n=e.id||ne(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a}}function Bi(e){if(Hi())try{z.sessionStorage.setItem(xi,JSON.stringify(e))}catch{}}function km(e,t){return Ka(e)?"session":t?"buffer":!1}function qs({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=km(e,t),s=Qa({sampled:i,previousSessionId:r});return n&&Bi(s),s}function Im(e){if(!Hi())return null;try{const t=z.sessionStorage.getItem(xi);if(!t)return null;const n=JSON.parse(t);return xt("[Replay] Loading existing session",e),Qa(n)}catch{return null}}function ei(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function ec(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return ei(e.started,t,r)||ei(e.lastActivity,n,r)}function tc(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!ec(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function kr({traceInternals:e,sessionIdleExpire:t,maxReplayDuration:n,previousSessionId:r},i){const s=i.stickySession&&Im(e);return s?tc(s,{sessionIdleExpire:t,maxReplayDuration:n})?(xt("[Replay] Session in sessionStorage is expired, creating new one..."),qs(i,{previousSessionId:s.id})):s:(xt("[Replay] Creating new session",e),qs(i,{previousSessionId:r}))}function Rm(e){return e.type===C.Custom}function Wi(e,t,n){return rc(e,t)?(nc(e,t,n),!0):!1}function Cm(e,t,n){return rc(e,t)?nc(e,t,n):Promise.resolve(null)}async function nc(e,t,n){if(!e.eventBuffer)return null;try{n&&e.recordingMode==="buffer"&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);const r=e.getOptions(),i=xm(t,r.beforeAddRecordingEvent);return i?await e.eventBuffer.addEvent(i):void 0}catch(r){const i=r&&r instanceof Fi?"addEventSizeExceeded":"addEvent";$&&m.error(r),await e.stop({reason:i});const s=G();s&&s.recordDroppedEvent("internal_sdk_error","replay")}}function rc(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Pi(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(ce(`[Replay] Skipping event with timestamp ${n} because it is after maxReplayDuration`,e.getOptions()._experiments.traceInternals),!1):!0}function xm(e,t){try{if(typeof t=="function"&&Rm(e))return t(e)}catch(n){return $&&m.error("[Replay] An error occured in the `beforeAddRecordingEvent` callback, skipping the event...",n),null}return e}function $i(e){return!e.type}function ti(e){return e.type==="transaction"}function Mm(e){return e.type==="replay_event"}function Js(e){return e.type==="feedback"}function ic(e){const t=Nm();return(n,r)=>{if(!e.isEnabled()||!$i(n)&&!ti(n))return;const i=r&&r.statusCode;if(!(t&&(!i||i<200||i>=300))){if(ti(n)){Am(e,n);return}Om(e,n)}}}function Am(e,t){const n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function Om(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||setTimeout(()=>{e.sendBufferedReplayOrFlush()})}function Nm(){const e=G();if(!e)return!1;const t=e.getTransport();return t&&t.send.__sentry__baseTransport__||!1}function Dm(e){return t=>{!e.isEnabled()||!$i(t)||Lm(e,t)}}function Lm(e,t){const n=t.exception&&t.exception.values&&t.exception.values[0].value;if(typeof n=="string"&&(n.match(/reactjs\.org\/docs\/error-decoder\.html\?invariant=(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=Oe({category:"replay.hydrate-error"});fn(e,r)}}function Pm(e,t){return e.type||!e.exception||!e.exception.values||!e.exception.values.length?!1:!!(t.originalException&&t.originalException.__rrweb__)}function Fm(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:C.Custom,timestamp:t.timestamp*1e3,data:{timestamp:t.timestamp,tag:"breadcrumb",payload:{category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function Hm(e,t){return e.recordingMode!=="buffer"||t.message===Mi||!t.exception||t.type?!1:Ka(e.getOptions().errorSampleRate)}function Bm(e,t=!1){const n=t?ic(e):void 0;return Object.assign((r,i)=>e.isEnabled()?Mm(r)?(delete r.breadcrumbs,r):!$i(r)&&!ti(r)&&!Js(r)||!e.checkAndHandleExpiredSession()?r:Js(r)?(e.flush(),r.contexts.feedback.replay_id=e.getSessionId(),Fm(e,r),r):Pm(r,i)&&!e.getOptions()._experiments.captureExceptions?($&&m.log("[Replay] Ignoring error from rrweb internals",r),null):((Hm(e,r)||e.recordingMode==="session")&&(r.tags={...r.tags,replayId:e.getSessionId()}),n&&n(r,{statusCode:200}),r):r,{id:"Replay"})}function ar(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{const a=e.throttledAddEvent({type:C.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function Wm(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function $m(e){return t=>{if(!e.isEnabled())return;const n=Wm(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(ar(e,[n]),!1)))}}function Um(e,t){return $&&e.getOptions()._experiments.traceInternals?!1:dd(t,G())}function cr(e,t){e.isEnabled()&&t!==null&&(Um(e,t.name)||e.addUpdate(()=>(ar(e,[t]),!0)))}function jm(e){const{startTimestamp:t,endTimestamp:n,fetchData:r,response:i}=e;if(!n)return null;const{method:s,url:o}=r;return{type:"resource.fetch",start:t/1e3,end:n/1e3,name:o,data:{method:s,statusCode:i?i.status:void 0}}}function zm(e){return t=>{if(!e.isEnabled())return;const n=jm(t);cr(e,n)}}function Gm(e){const{startTimestamp:t,endTimestamp:n,xhr:r}=e,i=r[qe];if(!t||!n||!i)return null;const{method:s,url:o,status_code:a}=i;return o===void 0?null:{type:"resource.xhr",name:o,start:t/1e3,end:n/1e3,data:{method:s,statusCode:a}}}function Vm(e){return t=>{if(!e.isEnabled())return;const n=Gm(t);cr(e,n)}}function ur(e,t){if(e)try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=cc(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function sc(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function oc(e){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[cc(e)];if(!e)return[void 0]}catch{return $&&m.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return $&&m.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Gn(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function ac(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:De({method:s,statusCode:o,request:a,response:c})}}function rn(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Ze(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=Ym(n);return r.body=i,s&&s.length>0&&(r._meta={warnings:s}),r}function ni(e,t){return Object.keys(e).reduce((n,r)=>{const i=r.toLowerCase();return t.includes(i)&&e[r]&&(n[i]=e[r]),n},{})}function cc(e){return new URLSearchParams(e).toString()}function Ym(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Ls,n=Xm(e);if(t){const r=e.slice(0,Ls);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function Xm(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function Vn(e,t){const n=qm(e);return Ht(n,t)}function qm(e,t=z.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(z.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function Jm(e,t,n){try{const r=await Km(e,t,n),i=ac("resource.fetch",r);cr(n.replay,i)}catch(r){$&&m.error("[Replay] Failed to capture fetch breadcrumb",r)}}function Zm(e,t,n){const{input:r,response:i}=t,s=r?uc(r):void 0,o=ur(s,n.textEncoder),a=i?sc(i.headers.get("content-length")):void 0;o!==void 0&&(e.data.request_body_size=o),a!==void 0&&(e.data.response_body_size=a)}async function Km(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=Vn(o,n.networkDetailAllowUrls)&&!Vn(o,n.networkDetailDenyUrls),f=l?Qm(n,t.input,u):rn(u),h=await eg(l,n,t.response,d);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:c,request:f,response:h}}function Qm({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?rg(n,t):{};if(!e)return Ze(i,r,void 0);const s=uc(n),[o,a]=oc(s),c=Ze(i,r,o);return a?Gn(c,a):c}async function eg(e,{networkCaptureBodies:t,textEncoder:n,networkResponseHeaders:r},i,s){if(!e&&s!==void 0)return rn(s);const o=i?lc(i.headers,r):{};if(!i||!t&&s!==void 0)return Ze(o,s,void 0);const[a,c]=await ng(i),u=tg(a,{networkCaptureBodies:t,textEncoder:n,responseBodySize:s,captureDetails:e,headers:o});return c?Gn(u,c):u}function tg(e,{networkCaptureBodies:t,textEncoder:n,responseBodySize:r,captureDetails:i,headers:s}){try{const o=e&&e.length&&r===void 0?ur(e,n):r;return i?t?Ze(s,o,e):Ze(s,o,void 0):rn(o)}catch(o){return $&&m.warn("[Replay] Failed to serialize response body",o),Ze(s,r,void 0)}}async function ng(e){const t=ig(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await sg(t)]}catch(n){return $&&m.warn("[Replay] Failed to get text body from response",n),[void 0,"BODY_PARSE_ERROR"]}}function uc(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function lc(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function rg(e,t){return e.length===1&&typeof e[0]!="string"?Zs(e[0],t):e.length===2?Zs(e[1],t):{}}function Zs(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?lc(n,t):Array.isArray(n)?{}:ni(n,t):{}}function ig(e){try{return e.clone()}catch(t){$&&m.warn("[Replay] Failed to clone response body",t)}}function sg(e){return new Promise((t,n)=>{const r=setTimeout(()=>n(new Error("Timeout while trying to read response body")),500);og(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function og(e){return await e.text()}async function ag(e,t,n){try{const r=ug(e,t,n),i=ac("resource.xhr",r);cr(n.replay,i)}catch(r){$&&m.error("[Replay] Failed to capture xhr breadcrumb",r)}}function cg(e,t,n){const{xhr:r,input:i}=t;if(!r)return;const s=ur(i,n.textEncoder),o=r.getResponseHeader("content-length")?sc(r.getResponseHeader("content-length")):hg(r.response,r.responseType,n.textEncoder);s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}function ug(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!Vn(c,n.networkDetailAllowUrls)||Vn(c,n.networkDetailDenyUrls)){const w=rn(l),v=rn(f);return{startTimestamp:i,endTimestamp:s,url:c,method:u,statusCode:d,request:w,response:v}}const h=a[qe],p=h?ni(h.request_headers,n.networkRequestHeaders):{},g=ni(lg(a),n.networkResponseHeaders),[y,_]=n.networkCaptureBodies?oc(o):[void 0],[S,k]=n.networkCaptureBodies?dg(a):[void 0],I=Ze(p,l,y),A=Ze(g,f,S);return{startTimestamp:i,endTimestamp:s,url:c,method:u,statusCode:d,request:_?Gn(I,_):I,response:k?Gn(A,k):A}}function lg(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return n[i.toLowerCase()]=s,n},{}):{}}function dg(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return fg(e.response,e.responseType)}catch(n){t.push(n)}return $&&m.warn("[Replay] Failed to get xhr response body",...t),[void 0]}function fg(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch{return $&&m.warn("[Replay] Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return $&&m.info("[Replay] Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function hg(e,t,n){try{const r=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return ur(r,n)}catch{return}}function pg(e){const t=G();try{const n=new TextEncoder,{networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a}=e.getOptions(),c={replay:e,textEncoder:n,networkDetailAllowUrls:r,networkDetailDenyUrls:i,networkCaptureBodies:s,networkRequestHeaders:o,networkResponseHeaders:a};t&&t.on?t.on("beforeAddBreadcrumb",(u,d)=>mg(c,u,d)):(li(zm(e)),di(Vm(e)))}catch{}}function mg(e,t,n){if(t.data)try{gg(t)&&yg(n)&&(cg(t,n,e),ag(t,n,e)),_g(t)&&Sg(n)&&(Zm(t,n,e),Jm(t,n,e))}catch{$&&m.warn("Error when enriching network breadcrumb")}}function gg(e){return e.category==="xhr"}function _g(e){return e.category==="fetch"}function yg(e){return e&&e.xhr}function Sg(e){return e&&e.response}let Ks=null;function vg(e){return!!e.category}const bg=e=>t=>{if(!e.isEnabled())return;const n=Eg(t);n&&fn(e,n)};function Eg(e){const t=e.getLastBreadcrumb&&e.getLastBreadcrumb();return Ks===t||!t||(Ks=t,!vg(t)||["fetch","xhr","sentry.event","sentry.transaction"].includes(t.category)||t.category.startsWith("ui."))?null:t.category==="console"?wg(t):Oe(t)}function wg(e){const t=e.data&&e.data.arguments;if(!Array.isArray(t)||t.length===0)return Oe(e);let n=!1;const r=t.map(i=>{if(!i)return i;if(typeof i=="string")return i.length>wn?(n=!0,`${i.slice(0,wn)}`):i;if(typeof i=="object")try{const s=Ce(i,7);return JSON.stringify(s).length>wn?(n=!0,`${JSON.stringify(s,null,2).slice(0,wn)}`):s}catch{}return i});return Oe({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Tg(e){const t=Pe(),n=G();t.addScopeListener(bg(e)),xo(tm(e)),Zn($m(e)),pg(e);const r=Bm(e,!Qs(n));n&&n.addEventProcessor?n.addEventProcessor(r):Yl(r),Qs(n)&&(n.on("beforeSendEvent",Dm(e)),n.on("afterSendEvent",ic(e)),n.on("createDsc",i=>{const s=e.getSessionId();s&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(i.replay_id=s)}),n.on("startTransaction",i=>{e.lastTransaction=i}),n.on("finishTransaction",i=>{e.lastTransaction=i}),n.on("beforeSendFeedback",(i,s)=>{const o=e.getSessionId();s&&s.includeReplay&&e.isEnabled()&&o&&(e.flush(),i.contexts&&i.contexts.feedback&&(i.contexts.feedback.replay_id=o))}))}function Qs(e){return!!(e&&e.on)}async function kg(e){try{return Promise.all(ar(e,[Ig(z.performance.memory)]))}catch{return[]}}function Ig(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function Rg(e,t,n){let r,i,s;const o=n&&n.maxWait?Math.max(n.maxWait,t):0;function a(){return c(),r=e(),r}function c(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function u(){return i!==void 0||s!==void 0?a():r}function d(){return i&&clearTimeout(i),i=setTimeout(a,t),o&&s===void 0&&(s=setTimeout(a,o)),r}return d.cancel=c,d.flush=u,d}function Cg(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){$&&m.warn("[Replay] Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&Jp(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!Wi(e,n,i))return!0;if(!i)return!1;if(Mg(e,i),e.session&&e.session.previousSessionId)return!0;if(e.recordingMode==="buffer"&&e.session&&e.eventBuffer){const s=e.eventBuffer.getEarliestTimestamp();s&&(ce(`[Replay] Updating session start time to earliest event in buffer to ${new Date(s)}`,e.getOptions()._experiments.traceInternals),e.session.started=s,e.getOptions().stickySession&&Bi(e.session))}return e.recordingMode==="session"&&e.flush(),!0})}}function xg(e){const t=e.getOptions();return{type:C.Custom,timestamp:Date.now(),data:{tag:"options",payload:{sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function Mg(e,t){!t||!e.session||e.session.segmentId!==0||Wi(e,xg(e),!1)}function Ag(e,t,n,r){return ht(Po(e,pi(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function Og({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function Ng({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit&&e.emit("preprocessEvent",r,s);const o=await Uo(e.getOptions(),r,s,t,e,un());if(!o)return null;o.platform=o.platform||"javascript";const a=e.getSdkMetadata&&e.getSdkMetadata(),{name:c,version:u}=a&&a.sdk||{};return o.sdk={...o.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0"},o}async function Dg({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){const o=Og({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=G(),f=Pe(),h=l&&l.getTransport(),p=l&&l.getDsn();if(!l||!h||!p||!s.sampled)return;const g={type:gh,replay_start_timestamp:d/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},y=await Ng({scope:f,client:l,replayId:t,event:g});if(!y){l.recordDroppedEvent("event_processor","replay",g),ce("An event processor returned `null`, will not send event.");return}delete y.sdkProcessingMetadata;const _=Ag(y,o,p,l.getOptions().tunnel);let S;try{S=await h.send(_)}catch(I){const A=new Error(Mi);try{A.cause=I}catch{}throw A}if(!S)return S;if(typeof S.statusCode=="number"&&(S.statusCode<200||S.statusCode>=300))throw new dc(S.statusCode);const k=Ho({},S);if(Fo(k,"replay"))throw new fc(k);return S}class dc extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class fc extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function hc(e,t={count:0,interval:Eh}){const{recordingData:n,options:r}=e;if(n.length)try{return await Dg(e),!0}catch(i){if(i instanceof dc||i instanceof fc)throw i;if(cl("Replays",{_retryCount:t.count}),$&&r._experiments&&r._experiments.captureExceptions&&Si(i),t.count>=wh){const s=new Error(`${Mi} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{setTimeout(async()=>{try{await hc(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}const pc="__THROTTLED",Lg="__SKIPPED";function Pg(e,t,n){const r=new Map,i=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},s=()=>[...r.values()].reduce((a,c)=>a+c,0);let o=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(i(c),s()>=t){const d=o;return o=!0,d?Lg:pc}o=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class Ye{constructor({options:t,recordingOptions:n}){Ye.prototype.__init.call(this),Ye.prototype.__init2.call(this),Ye.prototype.__init3.call(this),Ye.prototype.__init4.call(this),Ye.prototype.__init5.call(this),Ye.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:_h,sessionIdleExpire:yh},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=Rg(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=Pg((o,a)=>Cm(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(Th,r),timeout:r,scrollTimeout:kh,ignoreSelector:i?i.join(","):""}:void 0;s&&(this.clickDetector=new Vp(this,s))}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}getOptions(){return this._options}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options;if(!(n<=0&&r<=0)){if(this._initializeSessionForSampling(t),!this.session){this._handleException(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",xt(`[Replay] Starting replay in ${this.recordingMode} mode`,this._options._experiments.traceInternals),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session")throw new Error("Replay recording is already in progress");if(this._isEnabled&&this.recordingMode==="buffer")throw new Error("Replay buffering is in progress, call `flush()` to save the replay");xt("[Replay] Starting replay in session mode",this._options._experiments.traceInternals);const t=kr({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this._initializeRecording()}startBuffering(){if(this._isEnabled)throw new Error("Replay recording is already in progress");xt("[Replay] Starting replay in buffer mode",this._options._experiments.traceInternals);const t=kr({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._options._experiments.canvas;this._stopRecording=Je({...this._recordingOptions,...this.recordingMode==="buffer"&&{checkoutEveryNms:bh},emit:Cg(this),onMutation:this._onMutationHandler,...t&&t.manager&&{recordCanvas:!0,getCanvasManager:t.manager,...Fs[t.quality||"medium"]||Fs.medium}})}catch(t){this._handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this._handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1;try{ce(`[Replay] Stopping Replay${n?` triggered by ${n}`:""}`,this._options._experiments.traceInternals),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,wm(this)}catch(r){this._handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),ce("[Replay] Pausing replay",this._options._experiments.traceInternals))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),ce("[Replay] Resuming replay",this._options._experiments.traceInternals))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();ce("[Replay] Converting buffer to session",this._options._experiments.traceInternals),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode!=="buffer"&&n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){return this.session&&this.session.id}checkAndHandleExpiredSession(){if(this._lastActivity&&ei(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${z.location.pathname}${z.location.hash}${z.location.search}`,n=`${z.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===pc){const i=Oe({category:"replay.throttled"});this.addUpdate(()=>!Wi(this,{type:Wp,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastTransaction||Pe().getTransaction(),r=(t&&Le(t).data||{})[Ct];if(!(!t||!r||!["route","custom"].includes(r)))return Le(t).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=vm({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_handleException(t){$&&m.error("[Replay]",t),$&&this._options._experiments&&this._options._experiments.captureExceptions&&Si(t)}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=kr({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,traceInternals:this._options._experiments.traceInternals,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return tc(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{z.document.addEventListener("visibilitychange",this._handleVisibilityChange),z.addEventListener("blur",this._handleWindowBlur),z.addEventListener("focus",this._handleWindowFocus),z.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(Tg(this),this._hasInitializedCoreListeners=!0)}catch(t){this._handleException(t)}this._performanceCleanupCallback=pm(this)}_removeListeners(){try{z.document.removeEventListener("visibilitychange",this._handleVisibilityChange),z.removeEventListener("blur",this._handleWindowBlur),z.removeEventListener("focus",this._handleWindowFocus),z.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this._handleException(t)}}__init(){this._handleVisibilityChange=()=>{z.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()}}__init2(){this._handleWindowBlur=()=>{const t=Oe({category:"ui.blur"});this._doChangeToBackgroundTasks(t)}}__init3(){this._handleWindowFocus=()=>{const t=Oe({category:"ui.focus"});this._doChangeToForegroundTasks(t)}}__init4(){this._handleKeyboardEvent=t=>{sm(this,t)}}_doChangeToBackgroundTasks(t){!this.session||ec(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){ce("[Replay] Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:C.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){const t=cm(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all(ar(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){$&&m.error("[Replay] No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!(!this.eventBuffer||!this.eventBuffer.hasEvents)&&(await kg(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),i=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await hc({replayId:t,recordingData:s,segmentId:i,eventContext:r,session:this.session,options:this.getOptions(),timestamp:n})}catch(n){this._handleException(n),this.stop({reason:"sendReplay"});const r=G();r&&r.recordDroppedEvent("send_error","replay")}}__init5(){this._flush=async({force:t=!1}={})=>{if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){$&&m.error("[Replay] Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){ce(`[Replay] Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`,this._options._experiments.traceInternals),s&&this._debouncedFlush();return}const a=this.eventBuffer;if(a&&this.session.segmentId===0&&!a.hasCheckout&&ce("[Replay] Flushing initial segment without checkout.",this._options._experiments.traceInternals),!this._flushLock){this._flushLock=this._runFlush(),await this._flushLock,this._flushLock=void 0;return}try{await this._flushLock}catch(c){$&&m.error(c)}finally{this._debouncedFlush()}}}_maybeSaveSession(){this.session&&this._options.stickySession&&Bi(this.session)}__init6(){this._onMutationHandler=t=>{const n=t.length,r=this._options.mutationLimit,i=this._options.mutationBreadcrumbLimit,s=r&&n>r;if(n>i||s){const o=Oe({category:"replay.mutations",data:{count:n,limit:s}});this._createCustomBreadcrumb(o)}return s?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}}function jt(e,t,n,r){const i=typeof r=="string"?r.split(","):[],s=[...e,...i,...t];return typeof n<"u"&&(typeof n=="string"&&s.push(`.${n}`),ct(()=>{})),s.join(",")}function Fg({mask:e,unmask:t,block:n,unblock:r,ignore:i,blockClass:s,blockSelector:o,maskTextClass:a,maskTextSelector:c,ignoreClass:u}){const d=['base[href="/"]'],l=jt(e,[".sentry-mask","[data-sentry-mask]"],a,c),f=jt(t,[".sentry-unmask","[data-sentry-unmask]"]),h={maskTextSelector:l,unmaskTextSelector:f,blockSelector:jt(n,[".sentry-block","[data-sentry-block]",...d],s,o),unblockSelector:jt(r,[".sentry-unblock","[data-sentry-unblock]"]),ignoreSelector:jt(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'],u)};return s instanceof RegExp&&(h.blockClass=s),a instanceof RegExp&&(h.maskTextClass=a),h}function Hg({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const eo='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',Bg=["content-length","content-type","accept"];let to=!1;class Ui{static __initStatic(){this.id="Replay"}constructor({flushMinDelay:t=Sh,flushMaxDelay:n=vh,minReplayDuration:r=Ih,maxReplayDuration:i=Ps,stickySession:s=!0,useCompression:o=!0,workerUrl:a,_experiments:c={},sessionSampleRate:u,errorSampleRate:d,maskAllText:l=!0,maskAllInputs:f=!0,blockAllMedia:h=!0,mutationBreadcrumbLimit:p=750,mutationLimit:g=1e4,slowClickTimeout:y=7e3,slowClickIgnoreSelectors:_=[],networkDetailAllowUrls:S=[],networkDetailDenyUrls:k=[],networkCaptureBodies:I=!0,networkRequestHeaders:A=[],networkResponseHeaders:w=[],mask:v=[],maskAttributes:b=["title","placeholder"],unmask:U=[],block:E=[],unblock:R=[],ignore:F=[],maskFn:q,beforeAddRecordingEvent:J,beforeErrorSampling:he,blockClass:H,blockSelector:Te,maskInputOptions:Z,maskTextClass:de,maskTextSelector:ke,ignoreClass:Wt}={}){this.name=Ui.id;const tt=Fg({mask:v,unmask:U,block:E,unblock:R,ignore:F,blockClass:H,blockSelector:Te,maskTextClass:de,maskTextSelector:ke,ignoreClass:Wt});if(this._recordingOptions={maskAllInputs:f,maskAllText:l,maskInputOptions:{...Z||{},password:!0},maskTextFn:q,maskInputFn:q,maskAttributeFn:(nt,pt,hn)=>Hg({maskAttributes:b,maskAllText:l,privacyOptions:tt,key:nt,value:pt,el:hn}),...tt,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:nt=>{try{nt.__rrweb__=!0}catch{}}},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,Rh),maxReplayDuration:Math.min(i,Ps),stickySession:s,sessionSampleRate:u,errorSampleRate:d,useCompression:o,workerUrl:a,blockAllMedia:h,maskAllInputs:f,maskAllText:l,mutationBreadcrumbLimit:p,mutationLimit:g,slowClickTimeout:y,slowClickIgnoreSelectors:_,networkDetailAllowUrls:S,networkDetailDenyUrls:k,networkCaptureBodies:I,networkRequestHeaders:no(A),networkResponseHeaders:no(w),beforeAddRecordingEvent:J,beforeErrorSampling:he,_experiments:c},typeof u=="number"&&(this._initialOptions.sessionSampleRate=u),typeof d=="number"&&(this._initialOptions.errorSampleRate=d),this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${eo}`:eo),this._isInitialized&&cs())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return to}set _isInitialized(t){to=t}setupOnce(){cs()&&(this._setup(),setTimeout(()=>this._initialize()))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return!this._replay||!this._replay.isEnabled()?Promise.resolve():this._replay.sendBufferedReplayOrFlush(t)}getReplayId(){if(!(!this._replay||!this._replay.isEnabled()))return this._replay.getSessionId()}_initialize(){this._replay&&this._replay.initializeSampling()}_setup(){const t=Wg(this._initialOptions);this._replay=new Ye({options:t,recordingOptions:this._recordingOptions})}}Ui.__initStatic();function Wg(e){const t=G(),n=t&&t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...De(e)};return n?(e.sessionSampleRate==null&&e.errorSampleRate==null&&n.replaysSessionSampleRate==null&&n.replaysOnErrorSampleRate==null&&ct(()=>{}),typeof n.replaysSessionSampleRate=="number"&&(r.sessionSampleRate=n.replaysSessionSampleRate),typeof n.replaysOnErrorSampleRate=="number"&&(r.errorSampleRate=n.replaysOnErrorSampleRate),r):(ct(()=>{}),r)}function no(e){return[...Bg,...e.map(t=>t.toLowerCase())]}function Jy(e){const t={_metadata:{},...e};t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:Qt}],version:Qt},xf(t)}function ie(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(l){o(l)}}function c(d){try{u(r.throw(d))}catch(l){o(l)}}function u(d){d.done?s(d.value):i(d.value).then(a,c)}u((r=r.apply(e,t||[])).next())})}function se(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(d){return c([u,d])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(d){u=[6,d],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Zy(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function mc(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var gc="4.2.1";function lt(e,t){return new Promise(function(n){return setTimeout(n,e,t)})}function Yn(){return lt(0)}function $g(e,t){t===void 0&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise(function(r){return n.call(window,function(){return r()},{timeout:t})}):lt(Math.min(e,t))}function _c(e){return!!e&&typeof e.then=="function"}function ro(e,t){try{var n=e();_c(n)?n.then(function(r){return t(!0,r)},function(r){return t(!1,r)}):t(!0,n)}catch(r){t(!1,r)}}function io(e,t,n){return n===void 0&&(n=16),ie(this,void 0,void 0,function(){var r,i,s,o;return se(this,function(a){switch(a.label){case 0:r=Array(e.length),i=Date.now(),s=0,a.label=1;case 1:return s<e.length?(r[s]=t(e[s],s),o=Date.now(),o>=i+n?(i=o,[4,lt(0)]):[3,3]):[3,4];case 2:a.sent(),a.label=3;case 3:return++s,[3,1];case 4:return[2,r]}})})}function Xn(e){e.then(void 0,function(){})}function Ug(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return!0;return!1}function jg(e,t){return!Ug(e,t)}function ji(e){return parseInt(e)}function ve(e){return parseFloat(e)}function Be(e,t){return typeof e=="number"&&isNaN(e)?t:e}function fe(e){return e.reduce(function(t,n){return t+(n?1:0)},0)}function yc(e,t){if(t===void 0&&(t=1),Math.abs(t)>=1)return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function zg(e){for(var t,n,r="Unexpected syntax '".concat(e,"'"),i=/^\s*([a-z-]*)(.*)$/i.exec(e),s=i[1]||void 0,o={},a=/([.:#][\w-]+|\[.+?\])/gi,c=function(f,h){o[f]=o[f]||[],o[f].push(h)};;){var u=a.exec(i[2]);if(!u)break;var d=u[0];switch(d[0]){case".":c("class",d.slice(1));break;case"#":c("id",d.slice(1));break;case"[":{var l=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(d);if(l)c(l[1],(n=(t=l[4])!==null&&t!==void 0?t:l[5])!==null&&n!==void 0?n:"");else throw new Error(r);break}default:throw new Error(r)}}return[s,o]}function Gg(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r>127)return new TextEncoder().encode(e);t[n]=r}return t}function je(e,t){var n=e[0]>>>16,r=e[0]&65535,i=e[1]>>>16,s=e[1]&65535,o=t[0]>>>16,a=t[0]&65535,c=t[1]>>>16,u=t[1]&65535,d=0,l=0,f=0,h=0;h+=s+u,f+=h>>>16,h&=65535,f+=i+c,l+=f>>>16,f&=65535,l+=r+a,d+=l>>>16,l&=65535,d+=n+o,d&=65535,e[0]=d<<16|l,e[1]=f<<16|h}function ge(e,t){var n=e[0]>>>16,r=e[0]&65535,i=e[1]>>>16,s=e[1]&65535,o=t[0]>>>16,a=t[0]&65535,c=t[1]>>>16,u=t[1]&65535,d=0,l=0,f=0,h=0;h+=s*u,f+=h>>>16,h&=65535,f+=i*u,l+=f>>>16,f&=65535,f+=s*c,l+=f>>>16,f&=65535,l+=r*u,d+=l>>>16,l&=65535,l+=i*c,d+=l>>>16,l&=65535,l+=s*a,d+=l>>>16,l&=65535,d+=n*u+r*c+i*a+s*o,d&=65535,e[0]=d<<16|l,e[1]=f<<16|h}function _t(e,t){var n=e[0];t%=64,t===32?(e[0]=e[1],e[1]=n):t<32?(e[0]=n<<t|e[1]>>>32-t,e[1]=e[1]<<t|n>>>32-t):(t-=32,e[0]=e[1]<<t|n>>>32-t,e[1]=n<<t|e[1]>>>32-t)}function pe(e,t){t%=64,t!==0&&(t<32?(e[0]=e[1]>>>32-t,e[1]=e[1]<<t):(e[0]=e[1]<<t-32,e[1]=0))}function V(e,t){e[0]^=t[0],e[1]^=t[1]}var Vg=[4283543511,3981806797],Yg=[3301882366,444984403];function so(e){var t=[0,e[0]>>>1];V(e,t),ge(e,Vg),t[1]=e[0]>>>1,V(e,t),ge(e,Yg),t[1]=e[0]>>>1,V(e,t)}var In=[2277735313,289559509],Rn=[1291169091,658871167],oo=[0,5],Xg=[0,1390208809],qg=[0,944331445];function Jg(e,t){var n=Gg(e);t=t||0;var r=[0,n.length],i=r[1]%16,s=r[1]-i,o=[0,t],a=[0,t],c=[0,0],u=[0,0],d;for(d=0;d<s;d=d+16)c[0]=n[d+4]|n[d+5]<<8|n[d+6]<<16|n[d+7]<<24,c[1]=n[d]|n[d+1]<<8|n[d+2]<<16|n[d+3]<<24,u[0]=n[d+12]|n[d+13]<<8|n[d+14]<<16|n[d+15]<<24,u[1]=n[d+8]|n[d+9]<<8|n[d+10]<<16|n[d+11]<<24,ge(c,In),_t(c,31),ge(c,Rn),V(o,c),_t(o,27),je(o,a),ge(o,oo),je(o,Xg),ge(u,Rn),_t(u,33),ge(u,In),V(a,u),_t(a,31),je(a,o),ge(a,oo),je(a,qg);c[0]=0,c[1]=0,u[0]=0,u[1]=0;var l=[0,0];switch(i){case 15:l[1]=n[d+14],pe(l,48),V(u,l);case 14:l[1]=n[d+13],pe(l,40),V(u,l);case 13:l[1]=n[d+12],pe(l,32),V(u,l);case 12:l[1]=n[d+11],pe(l,24),V(u,l);case 11:l[1]=n[d+10],pe(l,16),V(u,l);case 10:l[1]=n[d+9],pe(l,8),V(u,l);case 9:l[1]=n[d+8],V(u,l),ge(u,Rn),_t(u,33),ge(u,In),V(a,u);case 8:l[1]=n[d+7],pe(l,56),V(c,l);case 7:l[1]=n[d+6],pe(l,48),V(c,l);case 6:l[1]=n[d+5],pe(l,40),V(c,l);case 5:l[1]=n[d+4],pe(l,32),V(c,l);case 4:l[1]=n[d+3],pe(l,24),V(c,l);case 3:l[1]=n[d+2],pe(l,16),V(c,l);case 2:l[1]=n[d+1],pe(l,8),V(c,l);case 1:l[1]=n[d],V(c,l),ge(c,In),_t(c,31),ge(c,Rn),V(o,c)}return V(o,r),V(a,r),je(o,a),je(a,o),so(o),so(a),je(o,a),je(a,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(a[0]>>>0).toString(16)).slice(-8)+("00000000"+(a[1]>>>0).toString(16)).slice(-8)}function Zg(e){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(e))}function Kg(e){return typeof e!="function"}function Qg(e,t){var n=new Promise(function(r){var i=Date.now();ro(e.bind(null,t),function(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];var a=Date.now()-i;if(!s[0])return r(function(){return{error:s[1],duration:a}});var c=s[1];if(Kg(c))return r(function(){return{value:c,duration:a}});r(function(){return new Promise(function(u){var d=Date.now();ro(c,function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];var h=a+Date.now()-d;if(!l[0])return u({error:l[1],duration:h});u({value:l[1],duration:h})})})})})});return Xn(n),function(){return n.then(function(i){return i()})}}function e_(e,t,n){var r=Object.keys(e).filter(function(s){return jg(n,s)}),i=io(r,function(s){return Qg(e[s],t)});return Xn(i),function(){return ie(this,void 0,void 0,function(){var o,a,c,u,d;return se(this,function(l){switch(l.label){case 0:return[4,i];case 1:return o=l.sent(),[4,io(o,function(f){var h=f();return Xn(h),h})];case 2:return a=l.sent(),[4,Promise.all(a)];case 3:for(c=l.sent(),u={},d=0;d<r.length;++d)u[r[d]]=c[d];return[2,u]}})})}}function Sc(){var e=window,t=navigator;return fe(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])>=4}function t_(){var e=window,t=navigator;return fe(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])>=3&&!Sc()}function zi(){var e=window,t=navigator;return fe(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,t.vendor.indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])>=5}function et(){var e=window,t=navigator;return fe(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,t.vendor.indexOf("Apple")===0,"getStorageUpdates"in t,"WebKitMediaKeys"in e])>=4}function Gi(){var e=window,t=e.HTMLElement,n=e.Document;return fe(["safari"in e,!("ongestureend"in e),!("TouchEvent"in e),!("orientation"in e),t&&!("autocapitalize"in t.prototype),n&&"pointerLockElement"in n.prototype])>=4}function lr(){var e=window;return Zg(e.print)?fe([String(e.browser)==="[object WebPageNamespace]","MicrodataExtractor"in e])>=1:!1}function vc(){var e,t,n=window;return fe(["buildID"in navigator,"MozAppearance"in((t=(e=document.documentElement)===null||e===void 0?void 0:e.style)!==null&&t!==void 0?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])>=4}function n_(){var e=window;return fe([!("MediaSettingsRange"in e),"RTCEncodedAudioFrame"in e,""+e.Intl=="[object Intl]",""+e.Reflect=="[object Reflect]"])>=3}function r_(){var e=window;return fe(["DOMRectList"in e,"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])>=3}function dr(){var e=window,t=navigator,n=e.CSS,r=e.HTMLButtonElement;return fe([!("getStorageUpdates"in t),r&&"popover"in r.prototype,"CSSCounterStyleRule"in e,n.supports("font-size-adjust: ex-height 0.5"),n.supports("text-transform: full-width")])>=4}function i_(){if(navigator.platform==="iPad")return!0;var e=screen,t=e.width/e.height;return fe(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,t>.65&&t<1.53])>=2}function s_(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function o_(){var e=document;return(e.exitFullscreen||e.msExitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen).call(e)}function bc(){var e=zi(),t=vc(),n=window,r=navigator,i="connection";return e?fe([!("SharedWorker"in n),r[i]&&"ontypechange"in r[i],!("sinkId"in new window.Audio)])>=2:t?fe(["onorientationchange"in n,"orientation"in n,/android/i.test(navigator.appVersion)])>=2:!1}function Ec(e,t,n){var r,i,s;return n===void 0&&(n=50),ie(this,void 0,void 0,function(){var o,a;return se(this,function(c){switch(c.label){case 0:o=document,c.label=1;case 1:return o.body?[3,3]:[4,lt(n)];case 2:return c.sent(),[3,1];case 3:a=o.createElement("iframe"),c.label=4;case 4:return c.trys.push([4,,10,11]),[4,new Promise(function(u,d){var l=!1,f=function(){l=!0,u()},h=function(y){l=!0,d(y)};a.onload=f,a.onerror=h;var p=a.style;p.setProperty("display","block","important"),p.position="absolute",p.top="0",p.left="0",p.visibility="hidden",t&&"srcdoc"in a?a.srcdoc=t:a.src="about:blank",o.body.appendChild(a);var g=function(){var y,_;l||(((_=(y=a.contentWindow)===null||y===void 0?void 0:y.document)===null||_===void 0?void 0:_.readyState)==="complete"?f():setTimeout(g,10))};g()})];case 5:c.sent(),c.label=6;case 6:return!((i=(r=a.contentWindow)===null||r===void 0?void 0:r.document)===null||i===void 0)&&i.body?[3,8]:[4,lt(n)];case 7:return c.sent(),[3,6];case 8:return[4,e(a,a.contentWindow)];case 9:return[2,c.sent()];case 10:return(s=a.parentNode)===null||s===void 0||s.removeChild(a),[7];case 11:return[2]}})})}function a_(e){for(var t=zg(e),n=t[0],r=t[1],i=document.createElement(n??"div"),s=0,o=Object.keys(r);s<o.length;s++){var a=o[s],c=r[a].join(" ");a==="style"?c_(i.style,c):i.setAttribute(a,c)}return i}function c_(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var i=r[n],s=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(i);if(s){var o=s[1],a=s[2],c=s[4];e.setProperty(o,a,c||"")}}}function u_(){return new Promise(function(e){var t=document,n="visibilitychange",r=function(){t.hidden||(t.removeEventListener(n,r),e())};t.addEventListener(n,r),r()})}var An=44100,l_=4e4,d_=6.2;function f_(){return ie(this,void 0,void 0,function(){var e;return se(this,function(t){switch(t.label){case 0:return[4,h_()];case 1:return e=t.sent(),[2,function(){var n=e();return S_(n,d_)}]}})})}function h_(){return ie(this,void 0,void 0,function(){var e,t,n;return se(this,function(r){switch(r.label){case 0:return t=u_().then(function(){return lt(500)}),n=p_().then(function(i){return e=[!0,i]},function(i){return e=[!1,i]}),[4,Promise.race([t,n])];case 1:return r.sent(),[2,function(){if(!e)return-3;if(!e[0])throw e[1];return e[1]}]}})})}function p_(){return ie(this,void 0,void 0,function(){var e,t,n,r,i,s,o;return se(this,function(a){switch(a.label){case 0:return e=window,t=e.OfflineAudioContext||e.webkitOfflineAudioContext,t?m_()?[2,-1]:[4,g_(t)]:[2,-2];case 1:return n=a.sent(),n?(r=new t(1,n.length-1+l_,An),i=r.createBufferSource(),i.buffer=n,i.loop=!0,i.loopStart=(n.length-1)/An,i.loopEnd=n.length/An,i.connect(r.destination),i.start(),[4,wc(r)]):[2,-3];case 2:return s=a.sent(),s?(o=__(n,s.getChannelData(0).subarray(n.length-1)),[2,Math.abs(o)]):[2,-3]}})})}function m_(){return et()&&!Gi()&&!r_()}function g_(e){return ie(this,void 0,void 0,function(){var t,n,r,i,s;return se(this,function(o){switch(o.label){case 0:return t=3395,n=new e(1,t+1,An),r=n.createOscillator(),r.type="square",r.frequency.value=1e3,i=n.createDynamicsCompressor(),i.threshold.value=-70,i.knee.value=40,i.ratio.value=12,i.attack.value=0,i.release.value=.25,s=n.createBiquadFilter(),s.type="allpass",s.frequency.value=5.239622852977861,s.Q.value=.1,r.connect(i),i.connect(s),s.connect(n.destination),r.start(0),[4,wc(n)];case 1:return[2,o.sent()]}})})}function wc(e){return new Promise(function(t,n){var r=200,i=25;e.oncomplete=function(o){return t(o.renderedBuffer)};var s=function(){try{var o=e.startRendering();_c(o)&&Xn(o),e.state==="suspended"&&(document.hidden||i--,i>0?setTimeout(s,r):t(null))}catch(a){n(a)}};s()})}function __(e,t){for(var n=void 0,r=!1,i=0;i<t.length;i+=Math.floor(t.length/10))if(t[i]!==0){if(n===void 0)n=t[i];else if(n!==t[i]){r=!0;break}}return n===void 0?n=e.getChannelData(0)[e.length-1]:r&&(n=y_(t)),n}function y_(e){for(var t=1/0,n=-1/0,r=0;r<e.length;r++){var i=e[r];i!==0&&(i<t&&(t=i),i>n&&(n=i))}return(t+n)/2}function S_(e,t){if(e===0)return e;var n=Math.floor(Math.log10(Math.abs(e))),r=n-Math.floor(t)+1,i=Math.pow(10,-r)*(t*10%10||1);return Math.round(e*i)/i}var v_="mmMwWLliI0O&1",b_="48px",yt=["monospace","sans-serif","serif"],ao=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function E_(){var e=this;return Ec(function(t,n){var r=n.document;return ie(e,void 0,void 0,function(){var i,s,o,a,c,u,d,l,f,h,p,g;return se(this,function(y){switch(y.label){case 0:return i=r.body,i.style.fontSize=b_,s=r.createElement("div"),s.style.setProperty("visibility","hidden","important"),o={},a={},c=function(_){var S=r.createElement("span"),k=S.style;return k.position="absolute",k.top="0",k.left="0",k.fontFamily=_,S.textContent=v_,s.appendChild(S),S},u=function(_,S){return c("'".concat(_,"',").concat(S))},d=function(){return yt.map(c)},l=function(){for(var _={},S=function(w){_[w]=yt.map(function(v){return u(w,v)})},k=0,I=ao;k<I.length;k++){var A=I[k];S(A)}return _},f=function(_){return yt.some(function(S,k){return _[k].offsetWidth!==o[S]||_[k].offsetHeight!==a[S]})},h=d(),p=l(),i.appendChild(s),[4,Yn()];case 1:for(y.sent(),g=0;g<yt.length;g++)o[yt[g]]=h[g].offsetWidth,a[yt[g]]=h[g].offsetHeight;return[2,ao.filter(function(_){return f(p[_])})]}})})})}function w_(){var e=navigator.plugins;if(e){for(var t=[],n=0;n<e.length;++n){var r=e[n];if(r){for(var i=[],s=0;s<r.length;++s){var o=r[s];i.push({type:o.type,suffixes:o.suffixes})}t.push({name:r.name,description:r.description,mimeTypes:i})}}return t}}function T_(){return k_(O_())}function k_(e){return ie(this,void 0,void 0,function(){var t,n,r,i,s,o,a;return se(this,function(c){switch(c.label){case 0:return t=!1,i=I_(),s=i[0],o=i[1],R_(s,o)?[3,1]:(n=r="unsupported",[3,4]);case 1:return t=C_(o),e?(n=r="skipped",[3,4]):[3,2];case 2:return[4,x_(s,o)];case 3:a=c.sent(),n=a[0],r=a[1],c.label=4;case 4:return[2,{winding:t,geometry:n,text:r}]}})})}function I_(){var e=document.createElement("canvas");return e.width=1,e.height=1,[e,e.getContext("2d")]}function R_(e,t){return!!(t&&e.toDataURL)}function C_(e){return e.rect(0,0,10,10),e.rect(2,2,6,6),!e.isPointInPath(5,5,"evenodd")}function x_(e,t){return ie(this,void 0,void 0,function(){var n,r,i;return se(this,function(s){switch(s.label){case 0:return M_(e,t),[4,Yn()];case 1:return s.sent(),n=Ir(e),r=Ir(e),n!==r?[2,["unstable","unstable"]]:(A_(e,t),[4,Yn()]);case 2:return s.sent(),i=Ir(e),[2,[n,i]]}})})}function M_(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat("");t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45)}function A_(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var i=r[n],s=i[0],o=i[1],a=i[2];t.fillStyle=s,t.beginPath(),t.arc(o,a,40,0,Math.PI*2,!0),t.closePath(),t.fill()}t.fillStyle="#f9c",t.arc(60,60,60,0,Math.PI*2,!0),t.arc(60,60,20,0,Math.PI*2,!0),t.fill("evenodd")}function Ir(e){return e.toDataURL()}function O_(){return et()&&dr()&&lr()}function N_(){var e=navigator,t=0,n;e.maxTouchPoints!==void 0?t=ji(e.maxTouchPoints):e.msMaxTouchPoints!==void 0&&(t=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),n=!0}catch{n=!1}var r="ontouchstart"in window;return{maxTouchPoints:t,touchEvent:n,touchStart:r}}function D_(){return navigator.oscpu}function L_(){var e=navigator,t=[],n=e.language||e.userLanguage||e.browserLanguage||e.systemLanguage;if(n!==void 0&&t.push([n]),Array.isArray(e.languages))zi()&&n_()||t.push(e.languages);else if(typeof e.languages=="string"){var r=e.languages;r&&t.push(r.split(","))}return t}function P_(){return window.screen.colorDepth}function F_(){return Be(ve(navigator.deviceMemory),void 0)}function H_(){if(!(et()&&dr()&&lr()))return B_()}function B_(){var e=screen,t=function(r){return Be(ji(r),null)},n=[t(e.width),t(e.height)];return n.sort().reverse(),n}var W_=2500,$_=10,On,Rr;function U_(){if(Rr===void 0){var e=function(){var t=ri();ii(t)?Rr=setTimeout(e,W_):(On=t,Rr=void 0)};e()}}function j_(){var e=this;return U_(),function(){return ie(e,void 0,void 0,function(){var t;return se(this,function(n){switch(n.label){case 0:return t=ri(),ii(t)?On?[2,mc([],On,!0)]:s_()?[4,o_()]:[3,2]:[3,2];case 1:n.sent(),t=ri(),n.label=2;case 2:return ii(t)||(On=t),[2,t]}})})}}function z_(){var e=this;if(et()&&dr()&&lr())return function(){return Promise.resolve(void 0)};var t=j_();return function(){return ie(e,void 0,void 0,function(){var n,r;return se(this,function(i){switch(i.label){case 0:return[4,t()];case 1:return n=i.sent(),r=function(s){return s===null?null:yc(s,$_)},[2,[r(n[0]),r(n[1]),r(n[2]),r(n[3])]]}})})}}function ri(){var e=screen;return[Be(ve(e.availTop),null),Be(ve(e.width)-ve(e.availWidth)-Be(ve(e.availLeft),0),null),Be(ve(e.height)-ve(e.availHeight)-Be(ve(e.availTop),0),null),Be(ve(e.availLeft),null)]}function ii(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}function G_(){return Be(ji(navigator.hardwareConcurrency),void 0)}function V_(){var e,t=(e=window.Intl)===null||e===void 0?void 0:e.DateTimeFormat;if(t){var n=new t().resolvedOptions().timeZone;if(n)return n}var r=-Y_();return"UTC".concat(r>=0?"+":"").concat(Math.abs(r))}function Y_(){var e=new Date().getFullYear();return Math.max(ve(new Date(e,0,1).getTimezoneOffset()),ve(new Date(e,6,1).getTimezoneOffset()))}function X_(){try{return!!window.sessionStorage}catch{return!0}}function q_(){try{return!!window.localStorage}catch{return!0}}function J_(){if(!(Sc()||t_()))try{return!!window.indexedDB}catch{return!0}}function Z_(){return!!window.openDatabase}function K_(){return navigator.cpuClass}function Q_(){var e=navigator.platform;return e==="MacIntel"&&et()&&!Gi()?i_()?"iPad":"iPhone":e}function ey(){return navigator.vendor||""}function ty(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],i=window[r];i&&typeof i=="object"&&e.push(r)}return e.sort()}function ny(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=e.cookie.indexOf("cookietest=")!==-1;return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch{return!1}}function ry(){var e=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',e("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",e("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",e("LnNwb25zb3JpdA=="),".ylamainos",e("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",e("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",e("LmhlYWRlci1ibG9ja2VkLWFk"),e("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",e("I2FkXzMwMFgyNTA="),e("I2Jhbm5lcmZsb2F0MjI="),e("I2NhbXBhaWduLWJhbm5lcg=="),e("I0FkLUNvbnRlbnQ=")],adGuardChinese:[e("LlppX2FkX2FfSA=="),e("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",e("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),e("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",e("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",e("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",e("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),e("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),e("LmFkZ29vZ2xl"),e("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[e("YW1wLWF1dG8tYWRz"),e("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",e("I2FkX2ludmlld19hcmVh")],adGuardRussian:[e("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),e("LnJlY2xhbWE="),'div[id^="smi2adblock"]',e("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[e("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),e("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",e("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),e("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),e("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",e("I3Jla2xhbWk="),e("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),e("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),e("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[e("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",e("LndpZGdldF9wb19hZHNfd2lkZ2V0"),e("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",e("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[e("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),e("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",e("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",e("I3Jla2xhbW5pLWJveA=="),e("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",e("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[e("I2FkdmVydGVudGll"),e("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",e("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",e("LnNwb25zb3JsaW5rZ3J1ZW4="),e("I3dlcmJ1bmdza3k="),e("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),e("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[e("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",e("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[e("LnJla2xhbW9zX3RhcnBhcw=="),e("LnJla2xhbW9zX251b3JvZG9z"),e("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),e("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),e("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[e("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[e("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),e("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",e("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[e("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),e("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),e("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",e("LmFkX19tYWlu"),e("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[e("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),e("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[e("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),e("I2xpdmVyZUFkV3JhcHBlcg=="),e("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),e("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[e("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",e("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),e("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),e("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[e("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),e("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),e("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",e("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),e("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),e("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),e("ZGl2I3NrYXBpZWNfYWQ=")],ro:[e("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),e("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),e("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[e("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),e("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),e("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",e("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),e("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",e("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function iy(e){var t=e===void 0?{}:e,n=t.debug;return ie(this,void 0,void 0,function(){var r,i,s,o,a,c;return se(this,function(u){switch(u.label){case 0:return sy()?(r=ry(),i=Object.keys(r),s=(c=[]).concat.apply(c,i.map(function(d){return r[d]})),[4,oy(s)]):[2,void 0];case 1:return o=u.sent(),n&&ay(r,o),a=i.filter(function(d){var l=r[d],f=fe(l.map(function(h){return o[h]}));return f>l.length*.6}),a.sort(),[2,a]}})})}function sy(){return et()||bc()}function oy(e){var t;return ie(this,void 0,void 0,function(){var n,r,i,s,c,o,a,c;return se(this,function(u){switch(u.label){case 0:for(n=document,r=n.createElement("div"),i=new Array(e.length),s={},co(r),c=0;c<e.length;++c)o=a_(e[c]),o.tagName==="DIALOG"&&o.show(),a=n.createElement("div"),co(a),a.appendChild(o),r.appendChild(a),i[c]=o;u.label=1;case 1:return n.body?[3,3]:[4,lt(50)];case 2:return u.sent(),[3,1];case 3:return n.body.appendChild(r),[4,Yn()];case 4:u.sent();try{for(c=0;c<e.length;++c)i[c].offsetParent||(s[e[c]]=!0)}finally{(t=r.parentNode)===null||t===void 0||t.removeChild(r)}return[2,s]}})})}function co(e){e.style.setProperty("visibility","hidden","important"),e.style.setProperty("display","block","important")}function ay(e,t){for(var n="DOM blockers debug:\n```",r=0,i=Object.keys(e);r<i.length;r++){var s=i[r];n+=`
`.concat(s,":");for(var o=0,a=e[s];o<a.length;o++){var c=a[o];n+=`
  `.concat(t[c]?"":""," ").concat(c)}}}function cy(){for(var e=0,t=["rec2020","p3","srgb"];e<t.length;e++){var n=t[e];if(matchMedia("(color-gamut: ".concat(n,")")).matches)return n}}function uy(){if(uo("inverted"))return!0;if(uo("none"))return!1}function uo(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function ly(){if(lo("active"))return!0;if(lo("none"))return!1}function lo(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}var dy=100;function fy(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=dy;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}}function hy(){if(St("no-preference"))return 0;if(St("high")||St("more"))return 1;if(St("low")||St("less"))return-1;if(St("forced"))return 10}function St(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function py(){if(fo("reduce"))return!0;if(fo("no-preference"))return!1}function fo(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function my(){if(ho("reduce"))return!0;if(ho("no-preference"))return!1}function ho(e){return matchMedia("(prefers-reduced-transparency: ".concat(e,")")).matches}function gy(){if(po("high"))return!0;if(po("standard"))return!1}function po(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}var L=Math,oe=function(){return 0};function _y(){var e=L.acos||oe,t=L.acosh||oe,n=L.asin||oe,r=L.asinh||oe,i=L.atanh||oe,s=L.atan||oe,o=L.sin||oe,a=L.sinh||oe,c=L.cos||oe,u=L.cosh||oe,d=L.tan||oe,l=L.tanh||oe,f=L.exp||oe,h=L.expm1||oe,p=L.log1p||oe,g=function(b){return L.pow(L.PI,b)},y=function(b){return L.log(b+L.sqrt(b*b-1))},_=function(b){return L.log(b+L.sqrt(b*b+1))},S=function(b){return L.log((1+b)/(1-b))/2},k=function(b){return L.exp(b)-1/L.exp(b)/2},I=function(b){return(L.exp(b)+1/L.exp(b))/2},A=function(b){return L.exp(b)-1},w=function(b){return(L.exp(2*b)-1)/(L.exp(2*b)+1)},v=function(b){return L.log(1+b)};return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:y(1e154),asin:n(.12312423423423424),asinh:r(1),asinhPf:_(1),atanh:i(.5),atanhPf:S(.5),atan:s(.5),sin:o(-1e300),sinh:a(1),sinhPf:k(1),cos:c(10.000000000123),cosh:u(1),coshPf:I(1),tan:d(-1e300),tanh:l(1),tanhPf:w(1),exp:f(1),expm1:h(1),expm1Pf:A(1),log1p:p(10),log1pPf:v(10),powPI:g(-100)}}var yy="mmMwWLliI0fiflO&1",Cr={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function Sy(){return vy(function(e,t){for(var n={},r={},i=0,s=Object.keys(Cr);i<s.length;i++){var o=s[i],a=Cr[o],c=a[0],u=c===void 0?{}:c,d=a[1],l=d===void 0?yy:d,f=e.createElement("span");f.textContent=l,f.style.whiteSpace="nowrap";for(var h=0,p=Object.keys(u);h<p.length;h++){var g=p[h],y=u[g];y!==void 0&&(f.style[g]=y)}n[o]=f,t.append(e.createElement("br"),f)}for(var _=0,S=Object.keys(Cr);_<S.length;_++){var o=S[_];r[o]=n[o].getBoundingClientRect().width}return r})}function vy(e,t){return t===void 0&&(t=4e3),Ec(function(n,r){var i=r.document,s=i.body,o=s.style;o.width="".concat(t,"px"),o.webkitTextSizeAdjust=o.textSizeAdjust="none",zi()?s.style.zoom="".concat(1/r.devicePixelRatio):et()&&(s.style.zoom="reset");var a=i.createElement("div");return a.textContent=mc([],Array(t/20<<0),!0).map(function(){return"word"}).join(" "),s.appendChild(a),e(i,s)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function by(){return navigator.pdfViewerEnabled}function Ey(){var e=new Float32Array(1),t=new Uint8Array(e.buffer);return e[0]=1/0,e[0]=e[0]-e[0],t[3]}function wy(){var e=window.ApplePaySession;if(typeof(e==null?void 0:e.canMakePayments)!="function")return-1;try{return e.canMakePayments()?1:0}catch(t){return Ty(t)}}function Ty(e){if(e instanceof Error){if(e.name==="InvalidAccessError"){if(/\bfrom\b.*\binsecure\b/i.test(e.message))return-2;if(/\bdifferent\b.*\borigin\b.*top.level\b.*\bframe\b/i.test(e.message))return-3}if(e.name==="SecurityError"&&/\bthird.party iframes?.*\bnot.allowed\b/i.test(e.message))return-3}throw e}function ky(){var e,t=document.createElement("a"),n=(e=t.attributionSourceId)!==null&&e!==void 0?e:t.attributionsourceid;return n===void 0?void 0:String(n)}var Tc=-1,kc=-2,Iy=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),Ry=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),Cy=["FRAGMENT_SHADER","VERTEX_SHADER"],xy=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],Ic="WEBGL_debug_renderer_info";function My(e){var t,n,r,i,s,o,a=e.cache,c=Rc(a);if(!c)return Tc;if(!xc(c))return kc;var u=Cc()?null:c.getExtension(Ic);return{version:((t=c.getParameter(c.VERSION))===null||t===void 0?void 0:t.toString())||"",vendor:((n=c.getParameter(c.VENDOR))===null||n===void 0?void 0:n.toString())||"",vendorUnmasked:u?(r=c.getParameter(u.UNMASKED_VENDOR_WEBGL))===null||r===void 0?void 0:r.toString():"",renderer:((i=c.getParameter(c.RENDERER))===null||i===void 0?void 0:i.toString())||"",rendererUnmasked:u?(s=c.getParameter(u.UNMASKED_RENDERER_WEBGL))===null||s===void 0?void 0:s.toString():"",shadingLanguageVersion:((o=c.getParameter(c.SHADING_LANGUAGE_VERSION))===null||o===void 0?void 0:o.toString())||""}}function Ay(e){var t=e.cache,n=Rc(t);if(!n)return Tc;if(!xc(n))return kc;var r=n.getSupportedExtensions(),i=n.getContextAttributes(),s=[],o=[],a=[],c=[];if(i)for(var u=0,d=Object.keys(i);u<d.length;u++){var l=d[u];s.push("".concat(l,"=").concat(i[l]))}for(var f=mo(n),h=0,p=f;h<p.length;h++){var g=p[h],y=n[g];o.push("".concat(g,"=").concat(y).concat(Iy.has(y)?"=".concat(n.getParameter(y)):""))}if(r)for(var _=0,S=r;_<S.length;_++){var k=S[_];if(!(k===Ic&&Cc())){var I=n.getExtension(k);if(I)for(var A=0,w=mo(I);A<w.length;A++){var g=w[A],y=I[g];a.push("".concat(g,"=").concat(y).concat(Ry.has(y)?"=".concat(n.getParameter(y)):""))}}}for(var v=0,b=Cy;v<b.length;v++)for(var U=b[v],E=0,R=xy;E<R.length;E++){var F=R[E],q=Oy(n,U,F);c.push("".concat(U,".").concat(F,"=").concat(q.join(",")))}return a.sort(),o.sort(),{contextAttributes:s,parameters:o,shaderPrecisions:c,extensions:r,extensionParameters:a}}function Rc(e){if(e.webgl)return e.webgl.context;var t=document.createElement("canvas"),n;t.addEventListener("webglCreateContextError",function(){return n=void 0});for(var r=0,i=["webgl","experimental-webgl"];r<i.length;r++){var s=i[r];try{n=t.getContext(s)}catch{}if(n)break}return e.webgl={context:n},n}function Oy(e,t,n){var r=e.getShaderPrecisionFormat(e[t],e[n]);return r?[r.rangeMin,r.rangeMax,r.precision]:[]}function mo(e){var t=Object.keys(e.__proto__);return t.filter(Ny)}function Ny(e){return typeof e=="string"&&!e.match(/[^A-Z0-9_x]/)}function Cc(){return vc()}function xc(e){return typeof e.getParameter=="function"}var Dy={fonts:E_,domBlockers:iy,fontPreferences:Sy,audio:f_,screenFrame:z_,canvas:T_,osCpu:D_,languages:L_,colorDepth:P_,deviceMemory:F_,screenResolution:H_,hardwareConcurrency:G_,timezone:V_,sessionStorage:X_,localStorage:q_,indexedDB:J_,openDatabase:Z_,cpuClass:K_,platform:Q_,plugins:w_,touchSupport:N_,vendor:ey,vendorFlavors:ty,cookiesEnabled:ny,colorGamut:cy,invertedColors:uy,forcedColors:ly,monochrome:fy,contrast:hy,reducedMotion:py,reducedTransparency:my,hdr:gy,math:_y,pdfViewerEnabled:by,architecture:Ey,applePay:wy,privateClickMeasurement:ky,webGlBasics:My,webGlExtensions:Ay};function Ly(e){return e_(Dy,e,[])}var Py="$ if upgrade to Pro: https://fpjs.dev/pro";function Fy(e){var t=Hy(e),n=By(t);return{score:t,comment:Py.replace(/\$/g,"".concat(n))}}function Hy(e){if(bc())return .4;if(et())return Gi()&&!(dr()&&lr())?.5:.3;var t="value"in e.platform?e.platform.value:"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}function By(e){return yc(.99+.01*e,1e-4)}function Wy(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var i=r[n],s=e[i],o="error"in s?"error":JSON.stringify(s.value);t+="".concat(t?"|":"").concat(i.replace(/([:|\\])/g,"\\$1"),":").concat(o)}return t}function $y(e){return Jg(Wy(e))}function Uy(e){var t,n=Fy(e);return{get visitorId(){return t===void 0&&(t=$y(this.components)),t},set visitorId(r){t=r},confidence:n,components:e,version:gc}}function jy(e){return e===void 0&&(e=50),$g(e,e*2)}function zy(e,t){var n=Date.now();return{get:function(r){return ie(this,void 0,void 0,function(){var i,s,o;return se(this,function(a){switch(a.label){case 0:return i=Date.now(),[4,e()];case 1:return s=a.sent(),o=Uy(s),t||r!=null&&r.debug,[2,o]}})})}}}function Gy(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var e=new XMLHttpRequest;e.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(gc,"/npm-monitoring"),!0),e.send()}catch{}}function Ky(e){var t;return e===void 0&&(e={}),ie(this,void 0,void 0,function(){var n,r,i;return se(this,function(s){switch(s.label){case 0:return(!((t=e.monitoring)!==null&&t!==void 0)||t)&&Gy(),n=e.delayFallback,r=e.debug,[4,jy(n)];case 1:return s.sent(),i=Ly({cache:{},debug:r}),[2,zy(i,r)]}})})}export{qy as B,Ui as R,ie as _,se as a,mc as b,Zy as c,jo as d,Jy as i,Ky as l,Xy as s};
